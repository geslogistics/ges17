<?xml version="1.0" encoding="utf-8"?>
<odoo>


    <!--kanban-->

    <record id="view_crm_lead_kanban_inherit_ges" model="ir.ui.view">
        <field name="name">crm.lead.kanban.inherit.ges</field>
        <field name="model">crm.lead</field>
        <field name="inherit_id" ref="crm.view_crm_lead_kanban"/>
        <field name="priority">999</field>
        <field name="arch" type="xml">
            <xpath expr="//kanban" position="attributes">
				<attribute name="quick_create">false</attribute>
				<attribute name="group_create">false</attribute>
				<attribute name="group_delete">false</attribute>
				<attribute name="group_edit">false</attribute>
				<attribute name="groups_draggable">false</attribute>
			</xpath>

            <xpath expr="//kanban" position="inside">
                <field name="assigned_user_id"/>
                <field name="partner_id"/>
            </xpath>
            <xpath expr="//div[hasclass('oe_kanban_bottom_right')]" position="replace">
                <div class="oe_kanban_bottom_right">
                    <field name="assigned_user_id" widget="many2one_avatar_user"/>
                </div>
            </xpath>
            <xpath expr="//strong[hasclass('o_kanban_record_title')]" position="replace">
                <strong class="o_kanban_record_title"><span><field name="partner_id"/></span></strong>
            </xpath>
            <xpath expr="//span[hasclass('o_kanban_record_subtitle')]" position="replace">
                <span class="o_kanban_record_subtitle"><field name="name"/></span>
            </xpath>
        </field>
    </record>


    <record id="crm_case_kanban_view_leads_inherit_ges" model="ir.ui.view">
        <field name="name">crm.lead.kanban.lead.inherit.ges</field>
        <field name="model">crm.lead</field>
        <field name="inherit_id" ref="crm.crm_case_kanban_view_leads"/>
        <field name="priority">999</field>
        <field name="arch" type="xml">
            <xpath expr="//kanban" position="attributes">
				<attribute name="quick_create">true</attribute>
				<attribute name="group_create">false</attribute>
				<attribute name="group_delete">false</attribute>
				<attribute name="group_edit">false</attribute>
				<attribute name="groups_draggable">false</attribute>
			</xpath>
            <xpath expr="//kanban" position="inside">
                <field name="assigned_user_id"/>
            </xpath>
            <xpath expr="//div[hasclass('oe_kanban_bottom_right')]" position="replace">
                <div class="oe_kanban_bottom_right">
                    <field name="assigned_user_id" widget="many2one_avatar_user"/>
                </div>
            </xpath>
            <xpath expr="//strong[hasclass('o_kanban_record_title')]" position="replace">
                <strong class="o_kanban_record_title"><span><field name="partner_id"/></span></strong>
            </xpath>
            <xpath expr="//span[hasclass('o_text_overflow')]" position="replace">
                <span class="o_text_overflow"><field name="name"/></span>
            </xpath>
        </field>
    </record>

  

    <!--tree-->
    <record id="crm_case_tree_view_leads_inherit_ges" model="ir.ui.view">
        <field name="name">crm.lead.tree.lead.inherit.ges</field>
        <field name="model">crm.lead</field>
        <field name="inherit_id" ref="crm.crm_case_tree_view_leads"/>
        <field name="priority">999</field>
        <field name="arch" type="xml">
            <xpath expr="//tree" position="attributes">
                <attribute name="multi_edit">0</attribute>
            </xpath>
            <field name="city" position="replace">
                <field name="city" optional="hide"/>
            </field>
            <field name="state_id" position="replace">
                <field name="state_id" optional="hide"/>
            </field>
            <field name="country_id" position="replace">
                <field name="country_id" optional="hide"/>
            </field>
            <field name="contact_name" position="replace"/>
            <field name="partner_name" position="replace"/>
            <field name="name" position="before">
                <field name="partner_id" string="Account"/>
            </field>
            <field name="email_from" position="replace"/>
            <field name="phone" position="replace"/>
            <field name="user_id" position="replace">
                <field name="user_id" column_invisible="1"/>
            </field>
            <field name="team_id" position="replace">
                <field name="team_id" column_invisible="1"/>
            </field>
            <field name="referred" position="replace">
                <field name="referred" column_invisible="1"/>
            </field>
            
            
            <field name="name" position="after">
                <field name="assigned_user_id" widget="many2one_avatar_user" optional="hide"/>
                <field name="assigned_ou_id" optional="hide"/>
            </field>
        </field>
    </record>

    <record id="crm_case_tree_view_oppor_inherit_ges" model="ir.ui.view">
        <field name="name">crm.lead.tree.opportunity.inherit.ges</field>
        <field name="model">crm.lead</field>
        <field name="inherit_id" ref="crm.crm_case_tree_view_oppor"/>
        <field name="priority">999</field>
        <field name="arch" type="xml">
            <xpath expr="//tree" position="attributes">
                <attribute name="multi_edit">0</attribute>
            </xpath>
            
            <field name="city" position="replace">
                <field name="city" optional="hide"/>
            </field>
            <field name="state_id" position="replace">
                <field name="state_id" optional="hide"/>
            </field>
            <field name="country_id" position="replace">
                <field name="country_id" optional="hide"/>
            </field>
            <field name="contact_name" position="replace"/>
            <field name="email_from" position="replace"/>
            <field name="phone" position="replace"/>
            <field name="user_id" position="replace">
                <field name="user_id" column_invisible="1"/>
            </field>
            <field name="team_id" position="replace">
                <field name="team_id" column_invisible="1"/>
            </field>
            <field name="referred" position="replace">
                <field name="referred" column_invisible="1"/>
            </field>
            <field name="partner_id" position="replace"/>
            <field name="name" position="before">
                <field name="partner_id" string="Account"/>
            </field>
            
            <field name="name" position="after">
                <field name="assigned_user_id" widget="many2one_avatar_user" optional="hide"/>
                <field name="assigned_ou_id" optional="hide"/>
            </field>
            <button name="%(crm.action_lead_mail_compose)d" position="attributes">
                <attribute name="invisible">1</attribute>
            </button>
        </field>
    </record>

    <!--form-->


    <record id="crm_lead_view_form_inherit_ges" model="ir.ui.view">
        <field name="name">crm.lead.form.inherit.ges</field>
        <field name="model">crm.lead</field>
        <field name="inherit_id" ref="crm.crm_lead_view_form"/>
        <field name="priority">999</field>
        <field name="arch" type="xml">
            <xpath expr="//form/sheet/group[1]" position="replace">
                <group>
                    <group name="lead_partner" string="Account Information">
                        <field name="current_user_id" invisible="1"/>
                        <field name="current_operating_unit_sales_id" invisible="1"/>
                        <field name="current_operating_unit_procurement_id" invisible="1"/>
                        <field name="partner_type"  widget="radio" options="{'horizontal': true}" />
                        <field name="partner_id" widget="res_partner_many2one" required="1" string="Account" domain="[('parent_id', '=', False)]" options="{'no_quick_create': True, 'no_create': True}" invisible="type == 'lead'"/>
                        <field name="partner_id" widget="res_partner_many2one" required="1" string="Account" domain="[('parent_id', '=', False)]" options="{'no_quick_create': True}" invisible="type == 'opportunity'" context="{'default_is_company': True,'default_type': 'contact',}"/>

                        <span class="o_form_label" style="color: black" invisible="not partner_id"><strong></strong></span>
                        <span class="o_form_field" invisible="not partner_id" style="display: block; margin-bottom:20px;">
                            
                            <field name="current_kyc_state" invisible="1"/>
                            <field name="current_crm_state" invisible="1"/>
                            <field name="current_customer_credit_state" invisible="1"/>
                            <field name="current_customer_strategy_state" invisible="1"/>
                            <field name="current_vrm_state" invisible="1"/>
                            <field name="current_vendor_credit_state" invisible="1"/>
                            <field name="current_vendor_strategy_state" invisible="1"/>

                            <button name="initiate_partner_application" title="Initiate Partner Application" type="object" 
                            class="pa-none-badge" 
                            context="{'crm_app_type': 'kyc', 'crm_app_state': 'new'}"
                            invisible="current_kyc_state != False"
                            string="KYC"/>

                            <button name="initiate_partner_application" title="Initiate Partner Application" type="object" 
                            class="pa-active-badge" 
                            context="{'crm_app_type': 'kyc', 'crm_app_state': 'amend'}"
                            invisible="current_kyc_state != 'active'"
                            string="KYC"/>

                            <button name="initiate_partner_application" title="Initiate Partner Application" type="object" 
                            class="pa-expired-badge" 
                            context="{'crm_app_type': 'kyc', 'crm_app_state': 'review'}"
                            invisible="current_kyc_state != 'expired'"
                            string="KYC"/>

                            <button name="initiate_partner_application" title="Initiate Partner Application" type="object" 
                            class="pa-none-badge" 
                            context="{'crm_app_type': 'crm', 'crm_app_state': 'new'}"
                            invisible="current_crm_state != False"
                            string="CRM"/>

                            <button name="initiate_partner_application" title="Initiate Partner Application" type="object" 
                            class="pa-active-badge" 
                            context="{'crm_app_type': 'crm', 'crm_app_state': 'amend'}"
                            invisible="current_crm_state != 'active'"
                            string="CRM"/>

                            <button name="initiate_partner_application" title="Initiate Partner Application" type="object" 
                            class="pa-expired-badge" 
                            context="{'crm_app_type': 'crm', 'crm_app_state': 'review'}"
                            invisible="current_crm_state != 'expired'"
                            string="CRM"/>

                            <button name="initiate_partner_application" title="Initiate Partner Application" type="object" 
                            class="pa-none-badge" 
                            context="{'crm_app_type': 'customer_credit', 'crm_app_state': 'new'}"
                            invisible="current_customer_credit_state != False"
                            string="CC"/>

                            <button name="initiate_partner_application" title="Initiate Partner Application" type="object" 
                            class="pa-active-badge" 
                            context="{'crm_app_type': 'customer_credit', 'crm_app_state': 'amend'}"
                            invisible="current_customer_credit_state != 'active'"
                            string="CC"/>

                            <button name="initiate_partner_application" title="Initiate Partner Application" type="object" 
                            class="pa-expired-badge" 
                            context="{'crm_app_type': 'customer_credit', 'crm_app_state': 'review'}"
                            invisible="current_customer_credit_state != 'expired'"
                            string="CC"/>

                            <button name="initiate_partner_application" title="Initiate Partner Application" type="object" 
                            class="pa-none-badge" 
                            context="{'crm_app_type': 'customer_strategy', 'crm_app_state': 'new'}"
                            invisible="current_customer_strategy_state != False"
                            string="CS"/>

                            <button name="initiate_partner_application" title="Initiate Partner Application" type="object" 
                            class="pa-active-badge" 
                            context="{'crm_app_type': 'customer_strategy', 'crm_app_state': 'amend'}"
                            invisible="current_customer_strategy_state != 'active'"
                            string="CS"/>

                            <button name="initiate_partner_application" title="Initiate Partner Application" type="object" 
                            class="pa-expired-badge" 
                            context="{'crm_app_type': 'customer_strategy', 'crm_app_state': 'review'}"
                            invisible="current_customer_strategy_state != 'expired'"
                            string="CS"/>

                            <button name="initiate_partner_application" title="Initiate Partner Application" type="object" 
                            class="pa-none-badge" 
                            context="{'crm_app_type': 'vrm', 'crm_app_state': 'new'}"
                            invisible="current_vrm_state != False"
                            string="VRM"/>

                            <button name="initiate_partner_application" title="Initiate Partner Application" type="object" 
                            class="pa-active-badge" 
                            context="{'crm_app_type': 'vrm', 'crm_app_state': 'amend'}"
                            invisible="current_vrm_state != 'active'"
                            string="VRM"/>

                            <button name="initiate_partner_application" title="Initiate Partner Application" type="object" 
                            class="pa-expired-badge" 
                            context="{'crm_app_type': 'vrm', 'crm_app_state': 'review'}"
                            invisible="current_vrm_state != 'expired'"
                            string="VRM"/>

                            <button name="initiate_partner_application" title="Initiate Partner Application" type="object" 
                            class="pa-none-badge" 
                            context="{'crm_app_type': 'vendor_credit', 'crm_app_state': 'new'}"
                            invisible="current_vendor_credit_state != False"
                            string="VC"/>

                            <button name="initiate_partner_application" title="Initiate Partner Application" type="object" 
                            class="pa-active-badge" 
                            context="{'crm_app_type': 'vendor_credit', 'crm_app_state': 'amend'}"
                            invisible="current_vendor_credit_state != 'active'"
                            string="VC"/>

                            <button name="initiate_partner_application" title="Initiate Partner Application" type="object" 
                            class="pa-expired-badge" 
                            context="{'crm_app_type': 'vendor_credit', 'crm_app_state': 'review'}"
                            invisible="current_vendor_credit_state != 'expired'"
                            string="VC"/>

                            <button name="initiate_partner_application" title="Initiate Partner Application" type="object" 
                            class="pa-none-badge" 
                            context="{'crm_app_type': 'vendor_strategy', 'crm_app_state': 'new'}"
                            invisible="current_vendor_strategy_state != False"
                            string="VS"/>

                            <button name="initiate_partner_application" title="Initiate Partner Application" type="object" 
                            class="pa-active-badge" 
                            context="{'crm_app_type': 'vendor_strategy', 'crm_app_state': 'amend'}"
                            invisible="current_vendor_strategy_state != 'active'"
                            string="VS"/>

                            <button name="initiate_partner_application" title="Initiate Partner Application" type="object" 
                            class="pa-expired-badge" 
                            context="{'crm_app_type': 'vendor_strategy', 'crm_app_state': 'review'}"
                            invisible="current_vendor_strategy_state != 'expired'"
                            string="VS"/>
                            
                        </span>
                        <field name="assigned_user_id" widget="many2one_avatar_user" options="{'no_open': True, 'no_quick_create': True, 'no_create': True}"/>
                        <field name="assigned_ou_id" options="{'no_open': True, 'no_quick_create': True, 'no_create': True}"/>
                        <field name="team_id" invisible="1"/>

                    </group>
                    
                    
                    <field name="type" invisible="1"/>
                    <group name="lead_info" string="Deal Information">
                        <field name="referral_user_id" string="Referral User" widget="many2one_avatar_user" options="{'no_open': True, 'no_quick_create': True, 'no_create': True}"/>
                        <field name="referral_ou_id" string="Referral Unit" options="{'no_open': True, 'no_quick_create': True, 'no_create': True}" readonly="1"/>							
                        <field name="date_deadline"/>
                        <field name="priority" widget="priority"/>
                        <field name="tag_ids" widget="many2many_tags" options="{'color_field': 'color', 'no_create_edit': True}"/>
                    </group>
                    <group name="contact_info" string="Contact Person">
                        <field name="contact_partner_id" widget="res_partner_many2one" domain="[('parent_id', '=', partner_id)]" options="{'no_quick_create': True}" context="{'default_parent_id': partner_id, 'default_is_company': 0}"/>
                        <field name="contact_email" widget="email"/>
                        <field name="contact_mobile" widget="phone" options="{'enable_sms': false}"/>
                        <field name="contact_phone" widget="phone" options="{'enable_sms': false}"/>
                    </group>
                    <group name="lost_reason" string="Lost Reason" invisible="active">
                        <field name="lost_reason_id"/>
                    </group>
                </group>
            </xpath>

            
            <page name="extra" position="replace">
                <page name="extra" string="Extra Information">
                    <group>
                        <group string="Email" groups="base.group_no_one">
                            <field name="message_bounce" readonly="1"/>
                        </group>
                        <group string="Marketing" name="categorization">
                            <field name="company_id"
                                groups="base.group_multi_company"
                                options="{'no_create': True}"/>
                            <field name="campaign_id" options="{'create_name_field': 'title'}"/>
                            <field name="medium_id"/>
                            <field name="source_id"/>
                            <field name="referred"/>
                        </group>
                        <group string="Analysis">
                            <field name="date_open"/>
                            <field name="date_closed"/>
                        </group>
                    </group>
                </page>
            </page>
            <page name="lead" position="replace"/>


            <xpath expr="//field[@name='checklist_progress']" position="after">
				<group class="w-100" string="Partner Application Requirements" invisible="not requires_kyc and not requires_crm and not requires_cc and not requires_cs and not requires_vrm and not requires_vc and not requires_vs">
					<field name="requires_kyc" invisible="1"/>
					<field name="requires_crm" invisible="1"/>
					<field name="requires_cc" invisible="1"/>
					<field name="requires_cs" invisible="1"/>
					<field name="requires_vrm" invisible="1"/>
					<field name="requires_vc" invisible="1"/>
					<field name="requires_vs" invisible="1"/>
                    

					<div class="w-100 d-flex mb4 checklist-checkpoint" invisible="not requires_kyc or (requires_kyc and current_kyc_state == 'active')">
						<div>
							<i class="fa fa-2x fa-square-o mr16"/>
						</div>
						<div>KYC</div>
					</div>
					<div class="w-100 d-flex mb4 checklist-checkpoint text-success" invisible="not requires_kyc or (requires_kyc and current_kyc_state != 'active')">
						<div>
							<i class="fa fa-2x fa-check-square-o mr16"/>
						</div>
						<div>KYC</div>
					</div>

					<div class="w-100 d-flex mb4 checklist-checkpoint" invisible="not requires_crm or (requires_crm and current_crm_state == 'active')">
						<div>
							<i class="fa fa-2x fa-square-o mr16"/>
						</div>
						<div>CRM</div>
					</div>
					<div class="w-100 d-flex mb4 checklist-checkpoint text-success" invisible="not requires_crm or (requires_crm and current_crm_state != 'active')">
						<div>
							<i class="fa fa-2x fa-check-square-o mr16"/>
						</div>
						<div>CRM</div>
					</div>

					<div class="w-100 d-flex mb4 checklist-checkpoint" invisible="not requires_cc or (requires_cc and current_customer_credit_state == 'active')">
						<div>
							<i class="fa fa-2x fa-square-o mr16"/>
						</div>
						<div>CC</div>
					</div>
					<div class="w-100 d-flex mb4 checklist-checkpoint text-success" invisible="not requires_cc or (requires_cc and current_customer_credit_state != 'active')">
						<div>
							<i class="fa fa-2x fa-check-square-o mr16"/>
						</div>
						<div>CC</div>
					</div>

					<div class="w-100 d-flex mb4 checklist-checkpoint" invisible="not requires_cs or (requires_cs and current_customer_strategy_state == 'active')">
						<div>
							<i class="fa fa-2x fa-square-o mr16"/>
						</div>
						<div>CS</div>
					</div>
					<div class="w-100 d-flex mb4 checklist-checkpoint text-success" invisible="not requires_cs or (requires_cs and current_customer_strategy_state != 'active')">
						<div>
							<i class="fa fa-2x fa-check-square-o mr16"/>
						</div>
						<div>CS</div>
					</div>

					<div class="w-100 d-flex mb4 checklist-checkpoint" invisible="not requires_vrm or (requires_vrm and current_vrm_state == 'active')">
						<div>
							<i class="fa fa-2x fa-square-o mr16"/>
						</div>
						<div>VRM</div>
					</div>
					<div class="w-100 d-flex mb4 checklist-checkpoint text-success" invisible="not requires_vrm or (requires_vrm and current_vrm_state != 'active')">
						<div>
							<i class="fa fa-2x fa-check-square-o mr16"/>
						</div>
						<div>VRM</div>
					</div>

					<div class="w-100 d-flex mb4 checklist-checkpoint" invisible="not requires_vc or (requires_vc and current_vendor_credit_state == 'active')">
						<div>
							<i class="fa fa-2x fa-square-o mr16"/>
						</div>
						<div>VC</div>
					</div>
					<div class="w-100 d-flex mb4 checklist-checkpoint text-success" invisible="not requires_vc or (requires_vc and current_vendor_credit_state != 'active')">
						<div>
							<i class="fa fa-2x fa-check-square-o mr16"/>
						</div>
						<div>VC</div>
					</div>

					<div class="w-100 d-flex mb4 checklist-checkpoint" invisible="not requires_vs or (requires_vs and current_vendor_strategy_state == 'active')">
						<div>
							<i class="fa fa-2x fa-square-o mr16"/>
						</div>
						<div>VS</div>
					</div>
					<div class="w-100 d-flex mb4 checklist-checkpoint text-success" invisible="not requires_vs or (requires_vs and current_vendor_strategy_state != 'active')">
						<div>
							<i class="fa fa-2x fa-check-square-o mr16"/>
						</div>
						<div>VS</div>
					</div>
				</group>
			</xpath>
             
                
        </field>
    </record>

    <!--
	<record id="crm.crm_lead_view_form" model="ir.ui.view">
        <field name="active">0</field>
    </record>

	<record id="crm_lead_view_form_crm2" model="ir.ui.view">
		<field name="name">crm.lead.view.form.inherit.crm2</field>
		<field name="model">crm.lead</field>
		<field name="arch" type="xml">
                <form class="o_lead_opportunity_form" js_class="crm_form">
                    <header>
                        <button name="action_set_won_rainbowman" string="Won"
                            type="object" class="oe_highlight" data-hotkey="w" title="Mark as won"
                            invisible="not active or probability == 100 or type == 'lead'"/>
                        <button name="%(crm.crm_lead_lost_action)d" string="Lost" data-hotkey="l" title="Mark as lost"
                            type="action" invisible="type == 'lead' or not active and probability &lt; 100"/>
                        <button name="%(crm.action_crm_lead2opportunity_partner)d" string="Convert to Opportunity" type="action" help="Convert to Opportunity"
                            class="oe_highlight" invisible="type == 'opportunity' or not active" data-hotkey="v"/>
                        <button name="toggle_active" string="Restore" type="object" data-hotkey="x"
                            invisible="probability &gt; 0 or active"/>
                        <button name="%(crm.crm_lead_lost_action)d" string="Lost" type="action"  data-hotkey="l" title="Mark as lost"
                            invisible="type == 'opportunity' or probability == 0 and not active"/>
                        <field name="team_id" invisible="1"/>
                        <field name="stage_id" widget="statusbar_duration"
                            options="{'clickable': '1', 'fold_field': 'fold'}"
                            domain="['|', ('team_id', '=', team_id), ('team_id', '=', False)]"
                            invisible="not active or type == 'lead'"/>
                    </header>
                    <sheet>
                        <field name="active" invisible="1"/>
                        <field name="company_id" invisible="1"/>
                        <div class="oe_button_box" name="button_box">
                            <button name="action_schedule_meeting" type="object"
                                class="oe_stat_button" icon="fa-calendar"
                                context="{'partner_id': partner_id}"
                                invisible="not id or type == 'lead'">
                                <div class="o_stat_info">
                                    <span class="o_stat_text"><field name="meeting_display_label"/></span>
                                    <field name="meeting_display_date" class="o_stat_value" invisible="not meeting_display_date"/>
                                </div>
                            </button>
                            <button name="action_show_potential_duplicates" type="object"
                                class="oe_stat_button" icon="fa-star"
                                invisible="duplicate_lead_count &lt; 1">
                                <div class="o_stat_info">
                                    <field name="duplicate_lead_count" class="o_stat_value"/>
                                    <span class="o_stat_text" invisible="duplicate_lead_count &lt; 2">Similar Leads</span>
                                    <span class="o_stat_text" invisible="duplicate_lead_count &gt; 1">Similar Lead</span>
                                </div>
                            </button>
                        </div>
                        <widget name="web_ribbon" title="Lost" bg_color="text-bg-danger" invisible="probability &gt; 0 or active"/>
                        <widget name="web_ribbon" title="Won" invisible="probability &lt; 100" />
                        <div class="oe_title">
                            <h1><field class="text-break" options="{'line_breaks': False}" widget="text" name="name" placeholder="e.g. Product Pricing"/></h1>
                            <h2 class="row g-0 pb-3 pb-sm-4">
                                <div class="col-auto pb-2 pb-md-0" invisible="type == 'lead'">
                                    <label for="expected_revenue" class="oe_edit_only"/>
                                    <div class="d-flex align-items-baseline">
                                        <field name="company_currency" invisible="1"/>
                                        <field name="expected_revenue" class="o_input_13ch" widget='monetary' options="{'currency_field': 'company_currency'}"/>
                                        <span class="oe_grey p-2" groups="crm.group_use_recurring_revenues"> + </span>
                                        <span class="oe_grey p-2" groups="!crm.group_use_recurring_revenues"> at </span>
                                        <div class="d-flex align-items-baseline gap-3" groups="crm.group_use_recurring_revenues">
                                            <field name="recurring_revenue" class="o_input_10ch" widget="monetary" options="{'currency_field': 'company_currency'}"/>
                                            <div class="d-flex align-items-baseline">
                                                <field name="recurring_plan" class="oe_inline o_input_13ch" placeholder='e.g. "Monthly"'
                                                    required="recurring_revenue != 0" options="{'no_create': True, 'no_open': True}"/>
                                                <span class="oe_grey p-2 text-nowrap"> at </span>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-auto">
                                    <label for="probability" class="d-inline-block"/>
                                    <button class="d-inline-block px-2 py-0 btn btn-link" name="action_set_automated_probability" type="object"
                                            invisible="is_automated_probability">
                                        <i class="fa fa-gear" role="img" title="Switch to automatic probability" aria-label="Switch to automatic probability"></i>
                                    </button>
                                    <small class="d-inline-block oe_grey h6 mb-0" invisible="is_automated_probability">
                                        <field class="mb-0" name="automated_probability" force_save="1"/> %
                                    </small>
                                    <div id="probability" class="d-flex align-items-baseline">
                                        <field name="is_automated_probability" invisible="1"/>
                                        <field name="probability" widget="float" class="oe_inline o_input_6ch"/>
                                        <span class="oe_grey p-2"> %</span>
                                    </div>
                                </div>
                            </h2>
                        </div>
                        <group>
                            <group name="lead_partner" string="Account Information">
								<field name="partner_type"  widget="radio" options="{'horizontal': true}" />
                                <field name="partner_id" widget="res_partner_many2one" required="1" string="Account" domain="[('parent_id', '=', False)]"/>

                                <span class="o_form_label" style="color: black"><strong></strong></span>
                                <span class="o_form_field" invisible="not partner_id" style="display: block; margin-bottom:20px;">
                                    
                                    <field name="current_kyc_state" invisible="1"/>
                                    <field name="current_crm_state" invisible="1"/>
                                    <field name="current_customer_credit_state" invisible="1"/>
                                    <field name="current_customer_strategy_state" invisible="1"/>
                                    <field name="current_vrm_state" invisible="1"/>
                                    <field name="current_vendor_credit_state" invisible="1"/>
                                    <field name="current_vendor_strategy_state" invisible="1"/>

                                    <button name="initiate_partner_application" title="Initiate Partner Application" type="object" 
                                    class="pa-none-badge" 
                                    context="{'crm_app_type': 'kyc', 'crm_app_state': 'new'}"
                                    invisible="current_kyc_state != False"
                                    string="KYC"/>

                                    <button name="initiate_partner_application" title="Initiate Partner Application" type="object" 
                                    class="pa-active-badge" 
                                    context="{'crm_app_type': 'kyc', 'crm_app_state': 'amend'}"
                                    invisible="current_kyc_state != 'active'"
                                    string="KYC"/>

                                    <button name="initiate_partner_application" title="Initiate Partner Application" type="object" 
                                    class="pa-expired-badge" 
                                    context="{'crm_app_type': 'kyc', 'crm_app_state': 'review'}"
                                    invisible="current_kyc_state != 'expired'"
                                    string="KYC"/>

                                    <button name="initiate_partner_application" title="Initiate Partner Application" type="object" 
                                    class="pa-none-badge" 
                                    context="{'crm_app_type': 'crm', 'crm_app_state': 'new'}"
                                    invisible="current_crm_state != False"
                                    string="CRM"/>

                                    <button name="initiate_partner_application" title="Initiate Partner Application" type="object" 
                                    class="pa-active-badge" 
                                    context="{'crm_app_type': 'crm', 'crm_app_state': 'amend'}"
                                    invisible="current_crm_state != 'active'"
                                    string="CRM"/>

                                    <button name="initiate_partner_application" title="Initiate Partner Application" type="object" 
                                    class="pa-expired-badge" 
                                    context="{'crm_app_type': 'crm', 'crm_app_state': 'review'}"
                                    invisible="current_crm_state != 'expired'"
                                    string="CRM"/>

                                    <button name="initiate_partner_application" title="Initiate Partner Application" type="object" 
                                    class="pa-none-badge" 
                                    context="{'crm_app_type': 'customer_credit', 'crm_app_state': 'new'}"
                                    invisible="current_customer_credit_state != False"
                                    string="CC"/>

                                    <button name="initiate_partner_application" title="Initiate Partner Application" type="object" 
                                    class="pa-active-badge" 
                                    context="{'crm_app_type': 'customer_credit', 'crm_app_state': 'amend'}"
                                    invisible="current_customer_credit_state != 'active'"
                                    string="CC"/>

                                    <button name="initiate_partner_application" title="Initiate Partner Application" type="object" 
                                    class="pa-expired-badge" 
                                    context="{'crm_app_type': 'customer_credit', 'crm_app_state': 'review'}"
                                    invisible="current_customer_credit_state != 'expired'"
                                    string="CC"/>

                                    <button name="initiate_partner_application" title="Initiate Partner Application" type="object" 
                                    class="pa-none-badge" 
                                    context="{'crm_app_type': 'customer_strategy', 'crm_app_state': 'new'}"
                                    invisible="current_customer_strategy_state != False"
                                    string="CS"/>

                                    <button name="initiate_partner_application" title="Initiate Partner Application" type="object" 
                                    class="pa-active-badge" 
                                    context="{'crm_app_type': 'customer_strategy', 'crm_app_state': 'amend'}"
                                    invisible="current_customer_strategy_state != 'active'"
                                    string="CS"/>

                                    <button name="initiate_partner_application" title="Initiate Partner Application" type="object" 
                                    class="pa-expired-badge" 
                                    context="{'crm_app_type': 'customer_strategy', 'crm_app_state': 'review'}"
                                    invisible="current_customer_strategy_state != 'expired'"
                                    string="CS"/>

                                    <button name="initiate_partner_application" title="Initiate Partner Application" type="object" 
                                    class="pa-none-badge" 
                                    context="{'crm_app_type': 'vrm', 'crm_app_state': 'new'}"
                                    invisible="current_vrm_state != False"
                                    string="VRM"/>

                                    <button name="initiate_partner_application" title="Initiate Partner Application" type="object" 
                                    class="pa-active-badge" 
                                    context="{'crm_app_type': 'vrm', 'crm_app_state': 'amend'}"
                                    invisible="current_vrm_state != 'active'"
                                    string="VRM"/>

                                    <button name="initiate_partner_application" title="Initiate Partner Application" type="object" 
                                    class="pa-expired-badge" 
                                    context="{'crm_app_type': 'vrm', 'crm_app_state': 'review'}"
                                    invisible="current_vrm_state != 'expired'"
                                    string="VRM"/>

                                    <button name="initiate_partner_application" title="Initiate Partner Application" type="object" 
                                    class="pa-none-badge" 
                                    context="{'crm_app_type': 'vendor_credit', 'crm_app_state': 'new'}"
                                    invisible="current_vendor_credit_state != False"
                                    string="VC"/>

                                    <button name="initiate_partner_application" title="Initiate Partner Application" type="object" 
                                    class="pa-active-badge" 
                                    context="{'crm_app_type': 'vendor_credit', 'crm_app_state': 'amend'}"
                                    invisible="current_vendor_credit_state != 'active'"
                                    string="VC"/>

                                    <button name="initiate_partner_application" title="Initiate Partner Application" type="object" 
                                    class="pa-expired-badge" 
                                    context="{'crm_app_type': 'vendor_credit', 'crm_app_state': 'review'}"
                                    invisible="current_vendor_credit_state != 'expired'"
                                    string="VC"/>

                                    <button name="initiate_partner_application" title="Initiate Partner Application" type="object" 
                                    class="pa-none-badge" 
                                    context="{'crm_app_type': 'vendor_strategy', 'crm_app_state': 'new'}"
                                    invisible="current_vendor_strategy_state != False"
                                    string="VS"/>

                                    <button name="initiate_partner_application" title="Initiate Partner Application" type="object" 
                                    class="pa-active-badge" 
                                    context="{'crm_app_type': 'vendor_strategy', 'crm_app_state': 'amend'}"
                                    invisible="current_vendor_strategy_state != 'active'"
                                    string="VS"/>

                                    <button name="initiate_partner_application" title="Initiate Partner Application" type="object" 
                                    class="pa-expired-badge" 
                                    context="{'crm_app_type': 'vendor_strategy', 'crm_app_state': 'review'}"
                                    invisible="current_vendor_strategy_state != 'expired'"
                                    string="VS"/>
                                    
                                </span>
                                <field name="assigned_user_id" widget="many2one_avatar_user" options="{'no_open': True, 'no_quick_create': True, 'no_create': True}"/>
								<field name="assigned_ou_id" options="{'no_open': True, 'no_quick_create': True, 'no_create': True}" invisible="partner_type != 'customer'" readonly="1"/>


                            </group>
                            
                            
                            <field name="type" invisible="1"/>
                            <group name="lead_info" string="Deal Information">
                                <field name="referral_user_id" string="Referral User" widget="many2one_avatar_user" options="{'no_open': True, 'no_quick_create': True, 'no_create': True}"/>
								<field name="referral_ou_id" string="Referral Unit" options="{'no_open': True, 'no_quick_create': True, 'no_create': True}" readonly="1"/>							
                                <field name="date_deadline"/>
                                <field name="priority" widget="priority"/>
                                <field name="tag_ids" widget="many2many_tags" options="{'color_field': 'color', 'no_create_edit': True}"/>
                            </group>
                            <group name="contact_info" string="Contact Person">
                                <field name="contact_partner_id" widget="res_partner_many2one" domain="[('parent_id', '=', partner_id)]" options="{'no_open': True, 'no_quick_create': True, 'no_create': True}"/>
                            </group>
                            <group name="lost_reason" string="Lost Reason" invisible="active">
                                <field name="lost_reason_id"/>
                            </group>
                        </group>
                        <div class="d-flex">
                            <field name="lead_properties" nolabel="1" columns="2"/>
                        </div>
                        <notebook>
                            <page string="Internal Notes" name="internal_notes">
                                <field name="description" placeholder="Add a description..." options="{'collaborative': true}" />
                            </page>
                            <page name="extra" string="Extra Information">
                                <group>
                                    <group string="Email" groups="base.group_no_one">
                                        <field name="message_bounce" readonly="1"/>
                                    </group>
                                    <group string="Marketing" name="categorization">
                                        <field name="company_id"
                                            groups="base.group_multi_company"
                                            options="{'no_create': True}"/>
                                        <field name="campaign_id" options="{'create_name_field': 'title'}"/>
                                        <field name="medium_id"/>
                                        <field name="source_id"/>
                                        <field name="referred"/>
                                    </group>
                                    <group string="Analysis">
                                        <field name="date_open"/>
                                        <field name="date_closed"/>
                                    </group>
                                </group>
                            </page>
                            
                        </notebook>
                    </sheet>
                    <div class="oe_chatter">
                        <field name="message_follower_ids"/>
                        <field name="activity_ids"/>
                        <field name="message_ids" options="{'post_refresh': 'recipients'}"/>
                    </div>
                </form>
            </field>
	</record>

    -->


    <record id="crm_case_calendar_view_leads_inherit_ges" model="ir.ui.view">
        <field name="name">crm.lead.calendar.lead.inherit.ges</field>
        <field name="model">crm.lead</field>
        <field name="inherit_id" ref="crm.crm_case_calendar_view_leads"/>
        <field name="arch" type="xml">
            <xpath expr="//calendar" position="inside">
                <field name="assigned_user_id"/>
                <field name="assigned_ou_id"/>
            </xpath>
        </field>
    </record>

    <record id="quick_create_opportunity_form_inherit_ges" model="ir.ui.view">
        <field name="name">crm.lead.form.quick_create.inherit.ges</field>
        <field name="model">crm.lead</field>
        <field name="priority">2000</field>
        <field name="inherit_id" ref="crm.quick_create_opportunity_form"/>
        <field name="arch" type="xml">
            
            <field name="partner_id" position="replace">
                <field name="current_user_id" invisible="1"/>
                <field name="current_operating_unit_sales_id" invisible="1"/>
                <field name="current_operating_unit_procurement_id" invisible="1"/>
                <field name="partner_type"  widget="radio" options="{'horizontal': true}" />
                <field name="partner_id" widget="res_partner_many2one" required="1" string="Account" domain="[('parent_id', '=', False)]" options="{'no_quick_create': True, 'no_create': True}"/>                    
            </field>
            <field name="partner_id" position="after">
                <field name="contact_partner_id" widget="res_partner_many2one" domain="[('parent_id', '=', partner_id)]" options="{'no_open': True, 'no_quick_create': True, 'no_create': True}"/>
            </field>
            <field name="email_from" position="attributes">
                <attribute name="invisible">1</attribute>
            </field>
            <field name="phone" position="attributes">
                <attribute name="invisible">1</attribute>
            </field>
        </field>
    </record>

    <record id="crm_lead_view_activity_inherit_ges" model="ir.ui.view">
        <field name="name">crm.lead.view.activity.inherit.ges</field>
        <field name="model">crm.lead</field>
        <field name="priority">2000</field>
        <field name="inherit_id" ref="crm.crm_lead_view_activity"/>
        <field name="arch" type="xml">
        <activity position="replace">
            <activity string="Leads or Opportunities">
                <field name="user_id"/>
                <field name="assigned_user_id"/>
                <field name="company_currency"/>
                <templates>
                    <div t-name="activity-box">
                        <field name="assigned_user_id" widget="many2one_avatar_user"/>
                        <div class="flex-grow-1">
                            <div class="d-flex justify-content-between">
                                <field name="partner_id" display="full" class="o_text_block o_text_bold"/>
                                <div class="m-1"/>
                                <field name="expected_revenue" widget='monetary' display="full" muted="1"/>
                            </div>
                            <div class="d-flex justify-content-between">
                                <field name="name" muted="1" display="full" class="o_text_block"/>
                                <div class="m-1"/>
                                <field name="stage_id" widget="badge"/>
                            </div>
                        </div>
                    </div>
                </templates>
            </activity>
        </activity>

        </field>
     
    </record>

    <record id="view_crm_case_leads_filter_inherit_ges" model="ir.ui.view">
        <field name="name">crm.lead.search.lead.inherit.ges</field>
        <field name="model">crm.lead</field>
        <field name="priority">50</field>
        <field name="inherit_id" ref="crm.view_crm_case_leads_filter"/>
        <field name="arch" type="xml">
            <search position="inside">
                <field name="assigned_user_id"/>
                <field name="assigned_ou_id"/>
            </search>
            <filter name="assigned_to_me" position="replace">
                <filter string="My Leads"
                    name="assigned_to_me"
                    domain="[('assigned_user_id', '=', uid)]"
                    help="Leads that are assigned to me"/>
            </filter>
            <filter name="unassigned_leads" position="replace">
                <filter string="Unassigned" name="unassigned_leads"
                    domain="[('assigned_user_id','=', False), ('type', '=', 'lead')]"
                    help="Leads that are not assigned"/>
            </filter>
            <filter name="salesperson" position="replace">
                <filter string="Sales User" name="salesperson" context="{'group_by':'assigned_user_id'}"/>
            </filter>
            <filter name="saleschannel" position="replace">
                <filter string="Sales Unit" name="saleschannel" context="{'group_by':'assigned_ou_id'}"/>
            </filter>
        </field>
    </record>


    <record id="crm_lead_view_graph_inherit_ges" model="ir.ui.view">
        <field name="name">crm.lead.view.graph.inherit.ges</field>
        <field name="model">crm.lead</field>
        <field name="inherit_id" ref="crm.crm_lead_view_graph"/>
        <field name="arch" type="xml">
            <field name="user_id" position="attributes">
                <attribute name="invisible">1</attribute>
            </field>
            <graph position="inside">
                <field name="assigned_user_id"/>
            </graph>
        </field>
    </record>

    <record id="view_crm_case_opportunities_filter_inherit_ges" model="ir.ui.view">
        <field name="name">crm.lead.search.opportunity</field>
        <field name="model">crm.lead</field>
        <field name="priority">20</field>
        <field name="inherit_id" ref="crm.view_crm_case_opportunities_filter"/>
        <field name="arch" type="xml">
            <field name="user_id" position="replace">
                <field name="assigned_user_id"/>
            </field>
            <field name="team_id" position="replace">
                <field name="assigned_ou_id"/>
            </field>
            <filter name="assigned_to_me" position="replace">
                <filter string="My Pipeline" name="assigned_to_me"
                    domain="[('assigned_user_id', '=', uid)]"
                    help="Opportunities that are assigned to me"/>
            </filter>
            <filter name="unassigned" position="replace">
                <filter string="Unassigned" name="unassigned"
                        domain="[('assigned_user_id', '=', False)]" help="No sales user"/>
            </filter>

            <filter name="salesperson" position="replace">
                <filter string="Sales User" name="salesperson" context="{'group_by':'assigned_user_id'}"/>
            </filter>
            <filter name="saleschannel" position="replace">
                <filter string="Sales Unit" name="saleschannel" context="{'group_by':'assigned_ou_id'}"/>
            </filter>
        </field>
    </record>


</odoo>
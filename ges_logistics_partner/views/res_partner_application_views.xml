<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <!-- Partner Application  Views -->

    <!--Actions-->
    <record id="res_partner_application_act_window" model="ir.actions.act_window">
        <field name="name">Applications</field>
        <field name="res_model">res.partner.application</field>
        <field name="view_mode">tree,form</field>
        <field name="context">{}</field>
        <field name="domain">[]</field>
    </record>


    <!--Views-->

    <record id="res_partner_application_list_view" model="ir.ui.view">
        <field name="name">res.partner.application.list.view</field>
        <field name="model">res.partner.application</field>
        <field name="arch" type="xml">
            <tree decoration-primary="state == 'submitted' or state == 'validated'" decoration-info="state == 'approved'" decoration-success="state == 'active'" decoration-danger="state == 'expired'" decoration-muted="state == 'cancel'" decoration-warning="state == 'rejected'">
                <field name="partner_id"/>
                <field name="name"/>
                <field name="application_request_type"/>
                <field name="application_type"/>
                <field name="expiry_date" string="Expiry Date" widget="remaining_days" optional="hide"/>
                <field name="review_date" string="Next Review" widget="remaining_days" optional="hide"/>
                <field name="state" widget="badge" decoration-primary="state == 'submitted' or state == 'validated'" decoration-info="state == 'approved'" decoration-success="state == 'active'" decoration-danger="state == 'expired'" decoration-muted="state == 'cancel'" decoration-warning="state == 'rejected'"/>
            </tree>
        </field>
    </record>

    
    
   

    <record id="res_partner_application_form_view" model="ir.ui.view">
        <field name="name">res.partner.application.form.view</field>
        <field name="model">res.partner.application</field>
        <field name="arch" type="xml">
            <form duplicate="0">
                <header>
                    <field name="state" widget="statusbar" class="o_field_statusbar" options="{'clickable': '0', 'fold_field': 'fold'}" attrs="{'invisible': [('active', '=', False)]}"/>
                    <button name="action_submit" string="Submit" class="oe_highlight" type="object" groups="ges_logistics_partner.group_partner_application_user_submit" attrs="{'invisible':[('state', '!=', 'draft')]}"/>
                    <button name="action_validate" string="Validate" class="oe_highlight" type="object" groups="ges_logistics_partner.group_partner_application_user_validate" attrs="{'invisible':[('state', '!=', 'submitted')]}"/>
                    <button name="action_draft" string="Return Draft" class="oe_highlight" type="object" groups="ges_logistics_partner.group_partner_application_user_return_draft" attrs="{'invisible':[('state', '!=', 'submitted')]}"/>

                    <button name="action_approve" string="Approve" class="oe_highlight" type="object" groups="ges_logistics_partner.group_partner_application_user_approve" attrs="{'invisible':[('state', '!=', 'validated')]}"/>
                    <button name="action_reject" string="Reject" class="oe_highlight" type="object" groups="ges_logistics_partner.group_partner_application_user_approve" attrs="{'invisible':[('state', '!=', 'validated')]}"/>
                    <button name="action_activate" string="Activate" class="oe_highlight" type="object" groups="ges_logistics_partner.group_partner_application_user_activate" attrs="{'invisible':[('state', '!=', 'approved')]}"/>
                    
                    <button name="action_cancel" string="Cancel" class="oe_highlight" type="object" groups="ges_logistics_partner.group_partner_application_user_cancel" attrs="{'invisible':[('state', 'in', ['cancel','validated','submitted'])]}"/>
                </header>
                <sheet>
                    <field name="active" invisible="1"/>
                    <widget name="web_ribbon" title="Archived" bg_color="bg-danger"
                            attrs="{'invisible': [('active', '=', True)]}"
                            modifiers="{'invisible': [['active', '=', true]]}"/>
                    <div class="oe_title mb12">
                        <h1>
                            <field class="text-break" name="name" readonly="1"/>
                        </h1>
                    </div>
                    <group>
                        <group>
                            <!--<field class="text-break" name="name" readonly="1" string="Application #"/>-->
                            <field name="current_user_id" invisible="1" readonly="1"/>
                            <field name="current_sale_team_id" invisible="1" readonly="1"/>
                            <field name="current_purchase_team_id" invisible="1" readonly="1"/>
                            <field name="partner_id" string="Account" required="1" options="{'no_open': True, 'no_quick_create': True, 'no_create': True}" attrs="{'readonly': [('state','!=','draft')]}"/>
                            <!--<field name="application_direction" widget="radio" options="{'horizontal': true}" on_change="1" />-->
                            <!--<field name="application_type" widget="radio" options="{'horizontal': true}" on_change="1"/>-->
                            
                            <span class="o_form_label" style="color: black"><strong>Status</strong></span>
                            <span class="o_form_field">
                                <table>
                                    <tr>
                                        <td colspan="2" style="margin-left: 2px;"><u>Application</u></td>
                                        <td><u>Expiry</u></td>
                                    </tr>
                                    <tr>
                                        <td style="vertical-align: top;">
                                            <i class="fa fa-times-circle" style="color: #C0C0C0; margin-left: 2px; margin-right: 20px" attrs="{'invisible': [('current_kyc_state','!=',False)]}" help="No records"/>
                                            <i class="fa fa-check-circle" style="color: green; margin-left: 2px; margin-right: 20px" attrs="{'invisible': [('current_kyc_state','!=','active')]}"  help="Active"/>
                                            <i class="fa fa-exclamation-circle" style="color: red; margin-left: 2px; margin-right: 20px" attrs="{'invisible': [('current_kyc_state','!=','expired')]}" help="Expired"/>
                                        </td>
                                        <td style="vertical-align: top; width: 150px; height:20px;">KYC</td>
                                        <td style="vertical-align: top;">
                                            <field name="current_kyc_state" class="oe_inline" invisible="1"/>
                                            <field name="current_kyc_expiry_date" widget="remaining_days" style="line-height:0px !important"/>
                                            <!--<field name="current_kyc_expiry_date" class="oe_inline" widget="date" style="line-height:0px !important"/>-->
                                        </td>
                                    </tr>
                                    <tr>
                                        <td style="vertical-align: top;">
                                            <i class="fa fa-times-circle" style="color: #C0C0C0; margin-left: 2px; margin-right: 20px" attrs="{'invisible': [('current_crm_state','!=',False)]}" help="No records"/>
                                            <i class="fa fa-check-circle" style="color: green; margin-left: 2px; margin-right: 20px" attrs="{'invisible': [('current_crm_state','!=','active')]}"  help="Active"/>
                                            <i class="fa fa-exclamation-circle" style="color: red; margin-left: 2px; margin-right: 20px" attrs="{'invisible': [('current_crm_state','!=','expired')]}" help="Expired"/>
                                        </td>
                                        <td style="vertical-align: top; width: 150px; height:20px;">CRM</td>
                                        <td style="vertical-align: top;">
                                            <field name="current_crm_id" class="oe_inline" invisible="1"/>
                                            <field name="current_crm_state" class="oe_inline" invisible="1"/>
                                            <field name="current_crm_expiry_date" widget="remaining_days" style="line-height:0px !important"/>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td style="vertical-align: top;">
                                            <i class="fa fa-times-circle" style="color: #C0C0C0; margin-left: 2px; margin-right: 20px" attrs="{'invisible': [('current_customer_credit_state','!=',False)]}" help="No records"/>
                                            <i class="fa fa-check-circle" style="color: green; margin-left: 2px; margin-right: 20px" attrs="{'invisible': [('current_customer_credit_state','!=','active')]}"  help="Active"/>
                                            <i class="fa fa-exclamation-circle" style="color: red; margin-left: 2px; margin-right: 20px" attrs="{'invisible': [('current_customer_credit_state','!=','expired')]}" help="Expired"/>
                                        </td>
                                        <td style="vertical-align: top; width: 150px; height:20px;">Customer Credit</td>                                    
                                        <td style="vertical-align: top;">
                                            <field name="current_customer_credit_id" class="oe_inline" invisible="1"/>
                                            <field name="current_customer_credit_state" class="oe_inline" invisible="1"/>
                                            <field name="current_customer_credit_expiry_date" widget="remaining_days" style="line-height:0px !important"/>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td style="vertical-align: top;">
                                            <i class="fa fa-times-circle" style="color: #C0C0C0; margin-left: 2px; margin-right: 20px" attrs="{'invisible': [('current_customer_strategy_state','!=',False)]}" help="No records"/>
                                            <i class="fa fa-check-circle" style="color: green; margin-left: 2px; margin-right: 20px" attrs="{'invisible': [('current_customer_strategy_state','!=','active')]}"  help="Active"/>
                                            <i class="fa fa-exclamation-circle" style="color: red; margin-left: 2px; margin-right: 20px" attrs="{'invisible': [('current_customer_strategy_state','!=','expired')]}" help="Expired"/>
                                        </td>
                                        <td style="vertical-align: top; width: 150px; height:20px;">Customer Strategy</td>                                        
                                        <td style="vertical-align: top;">
                                            <field name="current_customer_strategy_id" class="oe_inline" invisible="1"/> 
                                            <field name="current_customer_strategy_state" class="oe_inline" invisible="1"/>
                                            <field name="current_customer_strategy_expiry_date" widget="remaining_days" style="line-height:0px !important"/>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td style="vertical-align: top;">
                                            <i class="fa fa-times-circle" style="color: #C0C0C0; margin-left: 2px; margin-right: 20px" attrs="{'invisible': [('current_vrm_state','!=',False)]}" help="No records"/>
                                            <i class="fa fa-check-circle" style="color: green; margin-left: 2px; margin-right: 20px" attrs="{'invisible': [('current_vrm_state','!=','active')]}"  help="Active"/>
                                            <i class="fa fa-exclamation-circle" style="color: red; margin-left: 2px; margin-right: 20px" attrs="{'invisible': [('current_vrm_state','!=','expired')]}" help="Expired"/>
                                        </td>
                                        <td style="vertical-align: top; width: 150px; height:20px;">VRM</td>                                        
                                        <td style="vertical-align: top;">
                                            <field name="current_vrm_id" class="oe_inline" invisible="1"/>
                                            <field name="current_vrm_state" class="oe_inline" invisible="1"/>
                                            <field name="current_vrm_expiry_date" widget="remaining_days" style="line-height:0px !important"/>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td style="vertical-align: top;">
                                            <i class="fa fa-times-circle" style="color: #C0C0C0; margin-left: 2px; margin-right: 20px" attrs="{'invisible': [('current_vendor_credit_state','!=',False)]}" help="No records"/>
                                            <i class="fa fa-check-circle" style="color: green; margin-left: 2px; margin-right: 20px" attrs="{'invisible': [('current_vendor_credit_state','!=','active')]}"  help="Active"/>
                                            <i class="fa fa-exclamation-circle" style="color: red; margin-left: 2px; margin-right: 20px" attrs="{'invisible': [('current_vendor_credit_state','!=','expired')]}" help="Expired"/>
                                        </td>
                                        <td style="vertical-align: top; width: 150px; height:20px;">Vendor Credit</td>                            
                                        <td style="vertical-align: top;">
                                            <field name="current_vendor_credit_id" class="oe_inline" invisible="1"/>
                                            <field name="current_vendor_credit_state" class="oe_inline" invisible="1"/>
                                            <field name="current_vendor_credit_expiry_date" widget="remaining_days" style="line-height:0px !important"/>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td style="vertical-align: top;">
                                            <i class="fa fa-times-circle" style="color: #C0C0C0; margin-left: 2px; margin-right: 20px" attrs="{'invisible': [('current_vendor_strategy_state','!=',False)]}" help="No records"/>
                                            <i class="fa fa-check-circle" style="color: green; margin-left: 2px; margin-right: 20px" attrs="{'invisible': [('current_vendor_strategy_state','!=','active')]}"  help="Active"/>
                                            <i class="fa fa-exclamation-circle" style="color: red; margin-left: 2px; margin-right: 20px" attrs="{'invisible': [('current_vendor_strategy_state','!=','expired')]}" help="Expired"/>
                                        </td>
                                        <td style="vertical-align: top; width: 150px; height:20px;">Vendor Strategy</td>                                        
                                        <td style="vertical-align: top;">
                                            <field name="current_vendor_strategy_id" class="oe_inline" invisible="1"/>
                                            <field name="current_vendor_strategy_state" class="oe_inline" invisible="1"/>
                                            <field name="current_vendor_strategy_expiry_date" widget="remaining_days" style="line-height:0px !important"/>
                                        </td>
                                    </tr>
                                </table>
                            </span>

                            


                            

                            


                        </group>
                   
                    
                    <!--
                    <div name="application_type" class="o_inner_group grid">
                        <span class="o_form_label">Application Type</span>
                        <span class="o_form_field">
                            <span class="d-inline-block">
                                <field name="is_kyc" on_change="1"/>
                                <label for="is_kyc"/>
                            </span>
                            <span class="d-inline-block" attrs="{'invisible': [('application_direction','!=','customer')]}">
                                <field name="is_crm"/>
                                <label for="is_crm"/>
                            </span>
                            <span class="d-inline-block" attrs="{'invisible': [('application_direction','!=','customer')]}">
                                <field name="is_customer_credit"/>
                                <label for="is_customer_credit"/>
                            </span>
                            <span class="d-inline-block" attrs="{'invisible': [('application_direction','!=','customer')]}">
                                <field name="is_customer_strategy"/>
                                <label for="is_customer_strategy"/>
                            </span>
                            <span class="d-inline-block" attrs="{'invisible': [('application_direction','!=','vendor')]}">
                                <field name="is_vrm"/>
                                <label for="is_vrm"/>
                            </span>
                            <span class="d-inline-block" attrs="{'invisible': [('application_direction','!=','vendor')]}">
                                <field name="is_vendor_credit"/>
                                <label for="is_vendor_credit"/>
                            </span>
                            <span class="d-inline-block" attrs="{'invisible': [('application_direction','!=','vendor')]}">
                                <field name="is_vendor_strategy"/>
                                <label for="is_vendor_strategy"/>
                            </span>
                        </span>
                    </div>
                    -->
                        <group>
                            <field name="company_id" invisible="1"/>
                            <field name="currency_id" invisible="1"/>
                            <field name="application_request_type" required="1" attrs="{'readonly': [('state','!=','draft')]}"/>
                            <field name="application_type" required="1" attrs="{'readonly': [('state','!=','draft')]}"/>  
                            <field name="expiry_date_formula" widget="radio" options="{'horizontal': true}" attrs="{'readonly': [('state','!=','draft')]}"/>                      
                            <field name="expiry_date" attrs="{'required': [('application_request_type','in',['new','review'])], 'readonly': ['|','|',('application_request_type','=','amend'),('expiry_date_formula','!=','specific'),('state','!=','draft')]}" force_save="1"/>
                            <field name="review_date_formula" widget="radio" options="{'horizontal': true}" attrs="{'readonly': [('state','!=','draft')]}"/>
                            <field name="review_date" attrs="{'required': [('application_request_type','in',['new','review'])], 'readonly': ['|',('application_request_type','=','amend'),('review_date_formula','!=','specific'),('state','!=','draft')]}" force_save="1"/>
                        </group>
                    </group>
                    
                    <group string="KYC / Onboarding" attrs="{'invisible': [('application_type','!=','kyc')]}">
                        <group string="Previous Basic Information &amp; Identification" attrs="{'invisible': [('application_request_type','=','new')]}">
                            <field name="previous_company_type" string="Account Type" widget="radio" options="{'horizontal': true}"/>
                            <field name="previous_legal_type" attrs="{'invisible': [('company_type','=','person')]}"/>
                            <field name="previous_title" attrs="{'invisible': [('company_type','=','company')]}"/>
                            <field name="previous_legal_name"/>
                            <field name="previous_arabic_name"/>
                            <field name="previous_trade_name" attrs="{'invisible': [('company_type','=','company')]}"/>
                            <field name="previous_function" attrs="{'invisible': [('company_type','=','company')]}"/>
                            <field name="previous_ref" string="Internal Reference"/>
                            <field name="previous_company_registry"/>
                            <field name="company_registry_expiry_date"/>
                            <field name="previous_vat"/>
                            <field name="previous_category_id" widget="many2many_tags" options="{'color_field': 'color', 'no_open': True, 'no_quick_create': True, 'no_create': True}"/>
                        </group>
                        <group string="Basic Information &amp; Identification">
                            <field name="company_type" string="Account Type" widget="radio" options="{'horizontal': true}" on_change="1" attrs="{'required': [('application_type','=','kyc')], 'readonly': [('state','!=','draft')]}"/>
                            <field name="legal_type" attrs="{'invisible': [('company_type','=','person')], 'required': [('company_type','=','company')], 'readonly': [('state','!=','draft')]}"/>
                            <field name="title" attrs="{'invisible': [('company_type','=','company')], 'required': [('company_type','=','person')], 'readonly': [('state','!=','draft')]}"/>
                            <field name="legal_name" attrs="{'required': [('application_type','=','kyc')], 'readonly': [('state','!=','draft')]}"/>
                            <field name="arabic_name" attrs="{'readonly': [('state','!=','draft')]}"/>
                            <field name="trade_name" attrs="{'invisible': [('company_type','=','company')], 'readonly': [('state','!=','draft')]}"/>
                            <field name="function" attrs="{'invisible': [('company_type','=','company')], 'required': [('company_type','=','person')], 'readonly': [('state','!=','draft')]}"/>
                            <field name="ref" string="Internal Reference" attrs="{'readonly': [('state','!=','draft')]}"/>
                            <field name="company_registry" attrs="{'required': [('application_type','=','kyc')], 'readonly': [('state','!=','draft')]}"/>
                            <field name="company_registry_expiry_date" attrs="{'required': [('application_type','=','kyc')], 'readonly': [('state','!=','draft')]}"/>
                            <field name="vat" attrs="{'readonly': [('state','!=','draft')]}"/>
                            <field name="category_id" widget="many2many_tags" options="{'color_field': 'color', 'no_open': True, 'no_quick_create': True, 'no_create': True}" attrs="{'readonly': [('state','!=','draft')]}"/>
                        </group>
                        <group string="Previous Business Information" attrs="{'invisible': [('application_request_type','=','new')]}">
                            <field name="previous_industry_id" options="{'no_open': True, 'no_quick_create': True, 'no_create': True}"/>
                            <field name="previous_year_founded" placeholder="e.g. 1950" attrs="{'invisible': [('company_type','=','person')]}"/>
                            <field name="previous_paidup_capital" attrs="{'invisible': [('company_type','=','person')]}"/>
                            <field name="previous_ownership_structure" attrs="{'invisible': [('company_type','=','person')]}"/>
                            <field name="previous_management_structure" attrs="{'invisible': [('company_type','=','person')]}"/>
                        </group>
                        <group string="Business Information">
                            <field name="industry_id" options="{'no_open': True, 'no_quick_create': True, 'no_create': True}" attrs="{'readonly': [('state','!=','draft')]}"/>
                            <field name="year_founded" placeholder="1950" attrs="{'invisible': [('company_type','=','person')], 'required': [('company_type','=','company')], 'readonly': [('state','!=','draft')]}"/>
                            <field name="paidup_capital" placeholder="50000" attrs="{'invisible': [('company_type','=','person')], 'required': [('company_type','=','company')], 'readonly': [('state','!=','draft')]}"/>
                            <field name="ownership_structure" attrs="{'invisible': [('company_type','=','person')], 'readonly': [('state','!=','draft')]}"/>
                            <field name="management_structure" attrs="{'invisible': [('company_type','=','person')], 'readonly': [('state','!=','draft')]}"/>
                        </group>
                        <group string="Previous Registered Address" attrs="{'invisible': [('application_request_type','=','new')]}">
                            <field name="previous_street"/>
                            <field name="previous_street2"/>
                            <field name="previous_zip"/>
                            <field name="previous_city" />
                            <field name="previous_state_id" options="{'no_open': True, 'no_quick_create': True, 'no_create': True}"/>
                            <field name="previous_country_id"  options="{'no_open': True, 'no_quick_create': True, 'no_create': True}"/>
                        </group>
                        <group string="Registered Address">
                            <field name="street" attrs="{'required': [('application_type','=','kyc')], 'readonly': [('state','!=','draft')]}"/>
                            <field name="street2" attrs="{'readonly': [('state','!=','draft')]}"/>
                            <field name="zip" attrs="{'readonly': [('state','!=','draft')]}"/>
                            <field name="city" attrs="{'required': [('application_type','=','kyc')], 'readonly': [('state','!=','draft')]}"/>
                            <field name="state_id" options="{'no_open': True, 'no_quick_create': True, 'no_create': True}" attrs="{'readonly': [('state','!=','draft')]}"/>
                            <field name="country_id" attrs="{'required': [('application_type','=','kyc')], 'readonly': [('state','!=','draft')]}" options="{'no_open': True, 'no_quick_create': True, 'no_create': True}"/>
                        </group>
                        <group string="Previous Contact Details" attrs="{'invisible': [('application_request_type','=','new')]}">
                            <field name="previous_email" />
                            <field name="previous_phone"/>
                            <field name="previous_mobile" />
                            <field name="previous_website"/>
                        </group>
                        <group string="Contact Details">
                            <field name="email" attrs="{'required': [('application_type','=','kyc')], 'readonly': [('state','!=','draft')]}"/>
                            <field name="phone" attrs="{'readonly': [('state','!=','draft')]}"/>
                            <field name="mobile" attrs="{'required': [('application_type','=','kyc')], 'readonly': [('state','!=','draft')]}"/>
                            <field name="website" attrs="{'readonly': [('state','!=','draft')]}"/>
                        </group>
                    </group>
                    <group string="CRM Data" attrs="{'invisible': [('application_type','!=','crm')]}">
                        <group string="Previous Segmentation, Assignment &amp; Pricing" attrs="{'invisible': [('application_request_type','=','new')]}">
                            <field name="previous_user_id" options="{'no_open': True, 'no_quick_create': True, 'no_create': True}"/>
                            <field name="previous_team_id" options="{'no_open': True, 'no_quick_create': True, 'no_create': True}"/>
                            <field name="previous_customer_class"/>
                            <field name="previous_customer_segment"/>
                            <field name="previous_customer_pricelist_ids" widget="many2many_tags" options="{'no_open': True, 'no_quick_create': True, 'no_create': True}"/>
                        </group>
                        <group string="Segmentation, Assignment &amp; Pricing">
                            <field name="user_id" attrs="{'required': [('application_type','=','crm')], 'readonly': [('state','!=','draft')]}" options="{'no_open': True, 'no_quick_create': True, 'no_create': True}"/>
                            <field name="team_id" options="{'no_open': True, 'no_quick_create': True, 'no_create': True}" attrs="{'readonly': [('state','!=','draft')]}"/>
                            <field name="customer_class" attrs="{'required': [('application_type','=','crm')], 'readonly': [('state','!=','draft')]}"/>
                            <field name="customer_segment" attrs="{'required': [('application_type','=','crm')], 'readonly': [('state','!=','draft')]}"/>
                            <field name="customer_pricelist_ids" widget="many2many_tags" options="{'no_open': True, 'no_quick_create': True, 'no_create': True}" attrs="{'readonly': [('state','!=','draft')]}"/>
                        </group>
                        <group string="Previous Customer Business" attrs="{'invisible': [('application_request_type','=','new')]}">
                            <field name="previous_annual_revenues"/>
                            <field name="previous_employee_count"/>
                            <field name="previous_countries_covered" widget="many2many_tags" options="{'no_open': True, 'no_quick_create': True, 'no_create': True}"/>
                            <field name="previous_business_brief"/>
                        </group>
                        <group string="Customer Business">
                            <field name="annual_revenues" attrs="{'readonly': [('state','!=','draft')]}"/>
                            <field name="employee_count" attrs="{'readonly': [('state','!=','draft')]}"/>
                            <field name="countries_covered" widget="many2many_tags" options="{'no_open': True, 'no_quick_create': True, 'no_create': True}" attrs="{'readonly': [('state','!=','draft')]}"/>
                            <field name="business_brief" attrs="{'readonly': [('state','!=','draft')]}"/>
                        </group>
                        <group string="Previous Customer Logistics" attrs="{'invisible': [('application_request_type','=','new')]}">
                            <field name="previous_annual_teus"/>
                            <field name="previous_ship_type"/>
                            <field name="previous_goods_type"/>
                            <field name="previous_goods_value"/>
                            <field name="previous_major_countries" widget="many2many_tags" options="{'no_open': True, 'no_quick_create': True, 'no_create': True}"/>
                        </group>
                        <group string="Customer Logistics">
                            <field name="annual_teus" attrs="{'readonly': [('state','!=','draft')]}"/>
                            <field name="ship_type" attrs="{'readonly': [('state','!=','draft')]}"/>
                            <field name="goods_type" attrs="{'readonly': [('state','!=','draft')]}"/>
                            <field name="goods_value" attrs="{'readonly': [('state','!=','draft')]}"/>
                            <field name="major_countries" widget="many2many_tags" options="{'no_open': True, 'no_quick_create': True, 'no_create': True}" attrs="{'readonly': [('state','!=','draft')]}"/>
                        </group>
                        <group string="Previous Account Operations" attrs="{'invisible': [('application_request_type','=','new')]}">
                            <field name="previous_services_needed" widget="many2many_tags" options="{'no_open': True, 'no_quick_create': True, 'no_create': True}"/>
                            <field name="previous_operation_brief"/>
                        </group>
                        <group string="Account Operations">
                            <field name="services_needed" attrs="{'required': [('application_type','=','crm')], 'readonly': [('state','!=','draft')]}" widget="many2many_tags" options="{'no_open': True, 'no_quick_create': True, 'no_create': True}"/>
                            <field name="operation_brief" attrs="{'readonly': [('state','!=','draft')]}"/>
                        </group>
                    </group>
                    <group string="Customer Credit" attrs="{'invisible': [('application_type','!=','customer_credit')]}">
                        <group string="Previous Customer Credit Information" attrs="{'invisible': [('application_request_type','=','new')]}" colspan="12">
                            <field name="previous_monthly_expected_business"/>
                            <field name="previous_customer_credit_limit" string="Credit Limit"/>
                            <field name="previous_customer_payment_term_ids" string="Payment Terms" widget="many2many_tags" options="{'no_open': True, 'no_quick_create': True, 'no_create': True}"/>
                            <field name="previous_credit_trade_references"/>
                        </group>
                        <group string="Customer Credit Information" colspan="12">
                            <field name="monthly_expected_business" attrs="{'readonly': [('state','!=','draft')]}"/>
                            <field name="customer_credit_limit" attrs="{'required': [('application_type','=','customer_credit')], 'readonly': [('state','!=','draft')]}" string="Credit Limit"/>
                            <field name="customer_payment_term_ids" attrs="{'required': [('application_type','=','customer_credit')], 'readonly': [('state','!=','draft')]}" string="Payment Terms" widget="many2many_tags" options="{'no_open': True, 'no_quick_create': True, 'no_create': True}"/>
                            <field name="credit_trade_references" attrs="{'readonly': [('state','!=','draft')]}"/>
                        </group>
                    </group>
                    <group string="Customer Strategy" attrs="{'invisible': [('application_type','!=','customer_strategy')]}">
                        <group string="Previous Customer Strategy Information" attrs="{'invisible': [('application_request_type','=','new')]}" colspan="12">
                            <field name="previous_account_kpis"/>
                            <field name="previous_client_projects"/>
                            <field name="previous_client_profile"/>
                            <field name="previous_client_history"/>
                            <field name="previous_stakeholders"/>
                            <field name="previous_whitespace"/>
                            <field name="previous_sales_performance"/>
                            <field name="previous_margin_performance"/>
                            <field name="previous_wins_losses"/>
                            <field name="previous_account_competitors"/>
                            <field name="previous_competitors_stregnths"/>
                            <field name="previous_competitors_weaknesses"/>
                            <field name="previous_buyer_journey"/>
                            <field name="previous_content_channels"/>
                            <field name="previous_evaluation_criteria"/>
                            <field name="previous_decision_criteria"/>
                            <field name="previous_relationship_current_status"/>
                            <field name="previous_relationship_target_status"/>
                            <field name="previous_core_business_partners"/>
                            <field name="previous_relationship_progression_strategy"/>
                            <field name="previous_services"/>
                            <field name="previous_sales_targets"/>
                            <field name="previous_cross_sell"/>
                            <field name="previous_risks_challenges"/>
                            <field name="previous_critical_resources"/>
                            <field name="previous_project_ids"  options="{'no_open': True, 'no_quick_create': True, 'no_create': True}">
                                <tree>
                                    <field name="name"/>
                                </tree>
                            </field>
                        </group>
                        <group string="Customer Strategy Information" colspan="12">
                            <field name="account_kpis" attrs="{'readonly': [('state','!=','draft')]}"/>
                            <field name="client_projects" attrs="{'readonly': [('state','!=','draft')]}"/>
                            <field name="client_profile" attrs="{'readonly': [('state','!=','draft')]}"/>
                            <field name="client_history" attrs="{'readonly': [('state','!=','draft')]}"/>
                            <field name="stakeholders" attrs="{'readonly': [('state','!=','draft')]}"/>
                            <field name="whitespace" attrs="{'readonly': [('state','!=','draft')]}"/>
                            <field name="sales_performance" attrs="{'readonly': [('state','!=','draft')]}"/>
                            <field name="margin_performance" attrs="{'readonly': [('state','!=','draft')]}"/>
                            <field name="wins_losses" attrs="{'readonly': [('state','!=','draft')]}"/>
                            <field name="account_competitors" attrs="{'readonly': [('state','!=','draft')]}"/>
                            <field name="competitors_stregnths" attrs="{'readonly': [('state','!=','draft')]}"/>
                            <field name="competitors_weaknesses" attrs="{'readonly': [('state','!=','draft')]}"/>
                            <field name="buyer_journey" attrs="{'readonly': [('state','!=','draft')]}"/>
                            <field name="content_channels" attrs="{'readonly': [('state','!=','draft')]}"/>
                            <field name="evaluation_criteria" attrs="{'readonly': [('state','!=','draft')]}"/>
                            <field name="decision_criteria" attrs="{'readonly': [('state','!=','draft')]}"/>
                            <field name="relationship_current_status" attrs="{'readonly': [('state','!=','draft')]}"/>
                            <field name="relationship_target_status" attrs="{'readonly': [('state','!=','draft')]}"/>
                            <field name="core_business_partners" attrs="{'readonly': [('state','!=','draft')]}"/>
                            <field name="relationship_progression_strategy" attrs="{'readonly': [('state','!=','draft')]}"/>
                            <field name="services" attrs="{'readonly': [('state','!=','draft')]}"/>
                            <field name="sales_targets" attrs="{'readonly': [('state','!=','draft')]}"/>
                            <field name="cross_sell" attrs="{'readonly': [('state','!=','draft')]}"/>
                            <field name="risks_challenges" attrs="{'readonly': [('state','!=','draft')]}"/>
                            <field name="critical_resources" attrs="{'readonly': [('state','!=','draft')]}"/>
                            <field name="project_ids" options="{'no_open': True, 'no_quick_create': True, 'no_create': True}" attrs="{'readonly': [('state','!=','draft')]}">
                                <tree>
                                    <field name="name"/>
                                </tree>
                            </field>
                        </group>
                    </group>
                    
                    <group string="VRM Data" attrs="{'invisible': [('application_type','!=','vrm')]}">
                        <group string="Previous Segmentation and Assignment" attrs="{'invisible': [('application_request_type','=','new')]}">
                            <field name="previous_purchase_user_id" options="{'no_open': True, 'no_quick_create': True, 'no_create': True}"/>
                            <field name="previous_purchase_team_id" options="{'no_open': True, 'no_quick_create': True, 'no_create': True}"/>
                            <field name="previous_vendor_class" />
                            <field name="previous_vendor_segment" />
                            <field name="previous_vendor_currency_ids" widget="many2many_tags" options="{'no_open': True, 'no_quick_create': True, 'no_create': True}"/>
                        </group>
                        <group string="Segmentation and Assignment">
                            <field name="purchase_user_id" attrs="{'required': [('application_type','=','vrm')], 'readonly': [('state','!=','draft')]}" options="{'no_open': True, 'no_quick_create': True, 'no_create': True}"/>
                            <field name="purchase_team_id" options="{'no_open': True, 'no_quick_create': True, 'no_create': True}" attrs="{'readonly': [('state','!=','draft')]}"/>
                            <field name="vendor_class" attrs="{'required': [('application_type','=','vrm')], 'readonly': [('state','!=','draft')]}"/>
                            <field name="vendor_segment" attrs="{'required': [('application_type','=','vrm')], 'readonly': [('state','!=','draft')]}"/>
                            <field name="vendor_currency_ids" widget="many2many_tags" options="{'no_open': True, 'no_quick_create': True, 'no_create': True}" attrs="{'readonly': [('state','!=','draft')]}"/>
                        </group>
                        <group string="Previous Vendor Business" attrs="{'invisible': [('application_request_type','=','new')]}">
                            <field name="previous_vendor_annual_revenues"/>
                            <field name="previous_vendor_employee_count"/>
                            <field name="previous_vendor_countries_covered" widget="many2many_tags" options="{'no_open': True, 'no_quick_create': True, 'no_create': True}"/>
                            <field name="previous_vendor_business_brief"/>
                        </group>
                        <group string="Vendor Business">
                            <field name="vendor_annual_revenues" attrs="{'readonly': [('state','!=','draft')]}"/>
                            <field name="vendor_employee_count" attrs="{'readonly': [('state','!=','draft')]}"/>
                            <field name="vendor_countries_covered" widget="many2many_tags" options="{'no_open': True, 'no_quick_create': True, 'no_create': True}" attrs="{'readonly': [('state','!=','draft')]}"/>
                            <field name="vendor_business_brief" attrs="{'readonly': [('state','!=','draft')]}"/>
                        </group>
                        <group string="Previous Vendor Operations" attrs="{'invisible': [('application_request_type','=','new')]}">
                            <field name="previous_vendor_major_countries" widget="many2many_tags" options="{'no_open': True, 'no_quick_create': True, 'no_create': True}"/>
                            <field name="previous_services_provided" widget="many2many_tags" options="{'no_open': True, 'no_quick_create': True, 'no_create': True}"/>
                            <field name="previous_vendor_operation_brief"/>
                        </group>
                        <group string="Vendor Operations">
                            <field name="vendor_major_countries" widget="many2many_tags" options="{'no_open': True, 'no_quick_create': True, 'no_create': True}" attrs="{'readonly': [('state','!=','draft')]}"/>
                            <field name="services_provided" attrs="{'required': [('application_type','=','vrm')], 'readonly': [('state','!=','draft')]}" widget="many2many_tags" options="{'no_open': True, 'no_quick_create': True, 'no_create': True}"/>
                            <field name="vendor_operation_brief" attrs="{'readonly': [('state','!=','draft')]}"/>
                        </group>
                    </group>
                    <group string="Vendor Credit" attrs="{'invisible': [('application_type','!=','vendor_credit')]}">
                        <group string="Previous Vendor Credit Information" attrs="{'invisible': [('application_request_type','=','new')]}" colspan="12">
                            <field name="previous_vendor_monthly_expected_business"/>
                            <field name="previous_vendor_credit_limit" string="Credit Limit"/>
                            <field name="previous_vendor_payment_term_ids" string="Payment Terms" widget="many2many_tags" options="{'no_open': True, 'no_quick_create': True, 'no_create': True}"/>
                        </group>
                        <group string="Vendor Credit Information" colspan="12">
                            <field name="vendor_monthly_expected_business" attrs="{'readonly': [('state','!=','draft')]}"/>
                            <field name="vendor_credit_limit" attrs="{'required': [('application_type','=','vendor_credit')], 'readonly': [('state','!=','draft')]}" string="Credit Limit"/>
                            <field name="vendor_payment_term_ids" attrs="{'required': [('application_type','=','vendor_credit')], 'readonly': [('state','!=','draft')]}" string="Payment Terms" widget="many2many_tags" options="{'no_open': True, 'no_quick_create': True, 'no_create': True}"/>
                        </group>
                    </group>
                    <group string="Vendor Strategy" attrs="{'invisible': [('application_type','!=','vendor_strategy')]}">
                        <group string="Previous Vendor Strategy Information"  attrs="{'invisible': [('application_request_type','=','new')]}" colspan="12">
                            <field name="previous_vendor_kpis"/>
                            <field name="previous_vendor_projects"/>
                            <field name="previous_vendor_profile"/>
                            <field name="previous_vendor_history"/>
                            <field name="previous_vendor_stakeholders"/>
                            <field name="previous_vendor_whitespace"/>
                            <field name="previous_purchases_performance"/>
                            <field name="previous_vendor_wins_losses"/>
                            <field name="previous_vendor_competitors"/>
                            <field name="previous_vendor_competitors_stregnths"/>
                            <field name="previous_vendor_competitors_weaknesses"/>
                            <field name="previous_selling_journey"/>
                            <field name="previous_vendor_content_channels"/>
                            <field name="previous_vendor_evaluation_criteria"/>
                            <field name="previous_vendor_decision_criteria"/>
                            <field name="previous_vendor_relationship_current_status"/>
                            <field name="previous_vendor_relationship_target_status"/>
                            <field name="previous_vendor_core_business_partners"/>
                            <field name="previous_vendor_relationship_progression_strategy"/>
                            <field name="previous_vendor_services"/>
                            <field name="previous_purchases_targets"/>
                            <field name="previous_vendor_risks_challenges"/>
                            <field name="previous_vendor_critical_resources"/>
                            <field name="previous_vendor_project_ids"  options="{'no_open': True, 'no_quick_create': True, 'no_create': True}">
                                <tree>
                                    <field name="name"/>
                                </tree>
                            </field>
                        </group>
                        <group string="Vendor Strategy Information" colspan="12">
                            <field name="vendor_kpis" attrs="{'readonly': [('state','!=','draft')]}"/>
                            <field name="vendor_projects" attrs="{'readonly': [('state','!=','draft')]}"/>
                            <field name="vendor_profile" attrs="{'readonly': [('state','!=','draft')]}"/>
                            <field name="vendor_history" attrs="{'readonly': [('state','!=','draft')]}"/>
                            <field name="vendor_stakeholders" attrs="{'readonly': [('state','!=','draft')]}"/>
                            <field name="vendor_whitespace" attrs="{'readonly': [('state','!=','draft')]}"/>
                            <field name="purchases_performance" attrs="{'readonly': [('state','!=','draft')]}"/>
                            <field name="vendor_wins_losses" attrs="{'readonly': [('state','!=','draft')]}"/>
                            <field name="vendor_competitors" attrs="{'readonly': [('state','!=','draft')]}"/>
                            <field name="vendor_competitors_stregnths" attrs="{'readonly': [('state','!=','draft')]}"/>
                            <field name="vendor_competitors_weaknesses" attrs="{'readonly': [('state','!=','draft')]}"/>
                            <field name="selling_journey" attrs="{'readonly': [('state','!=','draft')]}"/>
                            <field name="vendor_content_channels" attrs="{'readonly': [('state','!=','draft')]}"/>
                            <field name="vendor_evaluation_criteria" attrs="{'readonly': [('state','!=','draft')]}"/>
                            <field name="vendor_decision_criteria" attrs="{'readonly': [('state','!=','draft')]}"/>
                            <field name="vendor_relationship_current_status" attrs="{'readonly': [('state','!=','draft')]}"/>
                            <field name="vendor_relationship_target_status" attrs="{'readonly': [('state','!=','draft')]}"/>
                            <field name="vendor_core_business_partners" attrs="{'readonly': [('state','!=','draft')]}"/>
                            <field name="vendor_relationship_progression_strategy" attrs="{'readonly': [('state','!=','draft')]}"/>
                            <field name="vendor_services" attrs="{'readonly': [('state','!=','draft')]}"/>
                            <field name="purchases_targets" attrs="{'readonly': [('state','!=','draft')]}"/>
                            <field name="vendor_risks_challenges" attrs="{'readonly': [('state','!=','draft')]}"/>
                            <field name="vendor_critical_resources" attrs="{'readonly': [('state','!=','draft')]}"/>
                            <field name="vendor_project_ids"  options="{'no_open': True, 'no_quick_create': True, 'no_create': True}" attrs="{'readonly': [('state','!=','draft')]}">
                                <tree>
                                    <field name="name"/>
                                </tree>
                            </field>
                        </group>
                    </group>
    
                    <group string="Attachments">
                        <field name="attachment_ids" attrs="{'readonly': [('state','!=','draft')]}"/>
                    </group>

                    <group string="User Actions">
                        <field name="user_action_ids" widget="section_and_note_one2many" mode="tree">
                            <tree editable="top" create="0" delete="0">
                                <field name="user_id" readonly="1" options="{'no_open': True, 'no_quick_create': True, 'no_create': True}"/>
                                <field name="action" readonly="1"/>
                                <field name="action_datetime" readonly="1"/>
                                <field name="pending_time" widget="float_time" readonly="1"/>
                            </tree>
                        </field>
                    </group>
                    
                    
                    
                </sheet>
                
                <div class="oe_chatter">
                    <field name="message_follower_ids" widget="mail_followers" groups="base.group_user"/>
                    <field name="activity_ids" widget="mail_activity"/>
                    <field name="message_ids" widget="mail_thread"/>
                </div>
            </form>
        </field>
    </record>
    
    <!--Attachment Types-->
    <!--Actions-->
    <record id="res_partner_application_attachment_type_act_window" model="ir.actions.act_window">
        <field name="name">Attachment Types</field>
        <field name="res_model">res.partner.application.attachment.type</field>
        <field name="view_mode">tree,form</field>
        <field name="context">{}</field>
        <field name="domain">[]</field>
    </record>
    <!-- Views -->
    <record id="res_partner_application_attachment_type_list_view" model="ir.ui.view">
        <field name="name">Attachment Types List</field>
        <field name="model">res.partner.application.attachment.type</field>
        <field name="arch" type="xml">
            <tree>
                <field name="sequence" widget="handle"/>
                <field name="name"/>
            </tree>
        </field>
    </record>


    <record id="res_partner_application_attachment_type_form_view" model="ir.ui.view">
        <field name="name">Attachment Type Form</field>
        <field name="model">res.partner.application.attachment.type</field>
        <field name="arch" type="xml">
            <form>
                <sheet>
                    <group>
                        <field name="name"/>
                        <field name="sequence"/>
                    </group>
                </sheet>
            </form>
        </field>
    </record>

    <!--Attachments-->
    <!--Actions-->
    <record id="res_partner_application_attachment_act_window" model="ir.actions.act_window">
        <field name="name">Attachment Types</field>
        <field name="res_model">res.partner.application.attachment</field>
        <field name="view_mode">tree,form</field>
        <field name="context">{}</field>
        <field name="domain">[]</field>
    </record>
    <!-- Views -->
    <record id="res_partner_application_attachment_list_view" model="ir.ui.view">
        <field name="name">Attachment Types List</field>
        <field name="model">res.partner.application.attachment</field>
        <field name="arch" type="xml">
            <tree>
                <field name="attachment_type_id"/>
                <field name="attachment_ids" widget="many2many_binary"/>
            </tree>
        </field>
    </record>


    <record id="res_partner_application_attachment_form_view" model="ir.ui.view">
        <field name="name">Attachment Type Form</field>
        <field name="model">res.partner.application.attachment</field>
        <field name="arch" type="xml">
            <form>
                <sheet>
                    <group>
                        <field name="attachment_type_id"/>
                        <field name="attachment_ids" widget="many2many_binary"/>
                    </group>
                </sheet>
            </form>
        </field>
    </record>

    
    
</odoo>

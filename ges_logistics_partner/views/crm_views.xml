<?xml version="1.0" encoding="utf-8"?>
<odoo>
	<record id="crm_quick_create_opportunity_form_inherit_pa" model="ir.ui.view">
		<field name="name">crm.lead.form.quick_create.inherit.pa</field>
		<field name="model">crm.lead</field>
		<field name="inherit_id" ref="crm.quick_create_opportunity_form" />
		<field name="priority">9999</field>
		<field name="arch" type="xml">
			<xpath expr="//field[@name='name']" position="after">
				<field name="current_user_id" invisible="1" />
				<field name="is_pa_user" invisible="1" />
			</xpath>
			<xpath expr="//field[@name='name']" position="attributes">
				<!--<attribute name="invisible">is_pa_user</attribute>-->
			</xpath>
			<xpath expr="//field[@name='email_from']" position="attributes">
				<attribute name="invisible">is_pa_user</attribute>
			</xpath>
			<xpath expr="//field[@name='phone']" position="attributes">
				<attribute name="invisible">is_pa_user</attribute>
			</xpath>
		</field>
	</record>

	<record id="crm_lead_view_form_inherit_partner_application" model="ir.ui.view">
		<field name="name">crm.lead.view.form.inherit.partner.application</field>
		<field name="model">crm.lead</field>
		<field name="inherit_id" ref="crm.crm_lead_view_form" />
		<field name="priority">9999</field>
		<field name="arch" type="xml">
			<xpath expr="//sheet" position="before">
				<div class="alert alert-danger oe_edit_only" role="alert" name="warning_partner_tax"
					invisible="not same_pa_vat_partner_id">
					A Partner with the same <span>
						<span class="o_vat_label">Tax ID</span>
					</span> already exists (
					<field name="same_pa_vat_partner_id" />
					).
				</div>
				<div class="alert alert-danger oe_edit_only" role="alert" name="warning_partner_company"
					invisible="not same_pa_company_registry_partner_id">
					A Partner with the same <span>
						<span class="o_vat_label">Company Registry</span>
					</span> already exists (
					<field name="same_pa_company_registry_partner_id" />
					).
				</div>
				<div class="alert alert-danger oe_edit_only" role="alert" name="warning_partner_name"
					invisible="not same_pa_name_partner_id">
					A Partner with the same <span>
						<span class="o_vat_label">Name</span>
					</span> already exists (
					<field name="same_pa_name_partner_id" />
					).
				</div>
				<div class="alert alert-danger oe_edit_only" role="alert" name="warning_partner_website"
					invisible="not same_pa_website_partner_id">
					A Partner with the same <span>
						<span class="o_vat_label">Website</span>
					</span> already exists (
					<field name="same_pa_website_partner_id" />
					).
				</div>
				<div class="alert alert-danger oe_edit_only" role="alert" name="warning_partner_email"
					invisible="not same_pa_email_partner_id">
					A Partner with the same <span>
						<span class="o_vat_label">Email</span>
					</span> already exists (
					<field name="same_pa_email_partner_id" />
					).
				</div>
				<div class="alert alert-danger oe_edit_only" role="alert" name="warning_partner_phone"
					invisible="not same_pa_phone_partner_id">
					A Partner with the same <span>
						<span class="o_vat_label">Phone</span>
					</span> already exists (
					<field name="same_pa_phone_partner_id" />
					).
				</div>
				<div class="alert alert-danger oe_edit_only" role="alert" name="warning_partner_mobile"
					invisible="not same_pa_mobile_partner_id">
					A Partner with the same <span>
						<span class="o_vat_label">Mobile</span>
					</span> already exists (
					<field name="same_pa_mobile_partner_id" />
					).
				</div>




				<div class="alert alert-danger oe_edit_only" role="alert" name="warning_lead_tax"
					invisible="not same_pa_vat_lead_id">
					A Lead with the same <span>
						<span class="o_vat_label">Tax ID</span>
					</span> already exists (
					<field name="same_pa_vat_lead_id" />
					).
				</div>
				<div class="alert alert-danger oe_edit_only" role="alert" name="warning_lead_company"
					invisible="not same_pa_company_registry_lead_id">
					A Lead with the same <span>
						<span class="o_vat_label">Company Registry</span>
					</span> already exists (
					<field name="same_pa_company_registry_lead_id" />
					).
				</div>
				<div class="alert alert-danger oe_edit_only" role="alert" name="warning_lead_name"
					invisible="not same_pa_name_lead_id">
					A Lead with the same <span>
						<span class="o_vat_label">Name</span>
					</span> already exists (
					<field name="same_pa_name_lead_id" />
					).
				</div>
				<div class="alert alert-danger oe_edit_only" role="alert" name="warning_lead_website"
					invisible="not same_pa_website_lead_id">
					A Lead with the same <span>
						<span class="o_vat_label">Website</span>
					</span> already exists (
					<field name="same_pa_website_lead_id" />
					).
				</div>
				<div class="alert alert-danger oe_edit_only" role="alert" name="warning_lead_email"
					invisible="not same_pa_email_lead_id">
					A Lead with the same <span>
						<span class="o_vat_label">Email</span>
					</span> already exists (
					<field name="same_pa_email_lead_id" />
					).
				</div>
				<div class="alert alert-danger oe_edit_only" role="alert" name="warning_lead_phone"
					invisible="not same_pa_phone_lead_id">
					A Lead with the same <span>
						<span class="o_vat_label">Phone</span>
					</span> already exists (
					<field name="same_pa_phone_lead_id" />
					).
				</div>
				<div class="alert alert-danger oe_edit_only" role="alert" name="warning_lead_mobile"
					invisible="not same_pa_mobile_lead_id">
					A Lead with the same <span>
						<span class="o_vat_label">Mobile</span>
					</span> already exists (
					<field name="same_pa_mobile_lead_id" />
					).
				</div>
			</xpath>
			<xpath expr="//form" position="inside">
				<field name="current_user_id" invisible="1" />
				<field name="is_pa_user" invisible="1" />
				<field name="same_pa_vat_partner_id" invisible="1" />
				<field name="same_pa_company_registry_partner_id" invisible="1" />
				<field name="same_pa_name_partner_id" invisible="1" />
				<field name="same_pa_website_partner_id" invisible="1" />
				<field name="same_pa_email_partner_id" invisible="1" />
				<field name="same_pa_phone_partner_id" invisible="1" />
				<field name="same_pa_mobile_partner_id" invisible="1" />
				<field name="same_pa_vat_lead_id" invisible="1" />
				<field name="same_pa_company_registry_lead_id" invisible="1" />
				<field name="same_pa_name_lead_id" invisible="1" />
				<field name="same_pa_website_lead_id" invisible="1" />
				<field name="same_pa_email_lead_id" invisible="1" />
				<field name="same_pa_phone_lead_id" invisible="1" />
				<field name="same_pa_mobile_lead_id" invisible="1" />
			</xpath>

			<xpath expr="//div[hasclass('oe_title')]" position="attributes">
				<!--<attribute name="invisible">is_pa_user</attribute>-->
			</xpath>
			<xpath expr="//sheet[1]/group[1]" position="attributes">
				<attribute name="invisible">is_pa_user</attribute>
			</xpath>

			<xpath expr="(//field[@name='user_id'])[1]" position="attributes">
				<attribute name="invisible">is_pa_user</attribute>
			</xpath>
			<xpath expr="(//field[@name='user_id'])[2]" position="attributes">
				<attribute name="invisible">is_pa_user</attribute>
			</xpath>
			<xpath expr="(//field[@name='team_id'])[1]" position="attributes">
				<attribute name="invisible">is_pa_user</attribute>
			</xpath>
			<xpath expr="(//field[@name='team_id'])[2]" position="attributes">
				<attribute name="invisible">is_pa_user</attribute>
			</xpath>

			<xpath expr="(//page[@name='lead'])/group[1]/group[1]" position="attributes">
				<attribute name="invisible">is_pa_user</attribute>
			</xpath>

			<xpath expr="(//page[@name='lead'])/group[1]/group[2]" position="attributes">
				<attribute name="invisible">is_pa_user</attribute>
			</xpath>

			<!--<xpath expr="(//button[@name='%(crm.action_crm_lead2opportunity_partner)d'])" position="attributes">
				<attribute name="invisible">type == 'opportunity' or not active or is_pa_user</attribute>
			</xpath>

			<xpath expr="(//button[@name='%(crm.action_crm_lead2opportunity_partner)d'])" position="after">
				<button name="%(crm.action_crm_lead2opportunity_partner)d" string="Convert to Opportunity" type="action" help="Convert to Opportunity" class="oe_highlight" invisible="type == 'opportunity' or not active or is_pa_user == False" data-hotkey="v" context="{'default_action': 'create', 'default_name': 'convert'}"/>
			</xpath>-->

			<xpath expr="//div[hasclass('oe_title')]" position="after">
				<!-- Lead / Opportunity Form -->
				<!--
				<div class="oe_title" invisible="is_pa_user == False">
					<h1>
						<field class="text-break" options="{'line_breaks': False}" widget="text" name="name"
							placeholder="New" readonly="1" force_save="1" />
					</h1>
				</div>
				-->
				
				<div invisible="not partner_id">
					<field name="current_kyc_state" invisible="1"/>
					<field name="current_crm_state" invisible="1"/>
					<field name="current_customer_credit_state" invisible="1"/>
					<field name="current_customer_strategy_state" invisible="1"/>
					<field name="current_vrm_state" invisible="1"/>
					<field name="current_vendor_credit_state" invisible="1"/>
					<field name="current_vendor_strategy_state" invisible="1"/>

					<button name="initiate_partner_application" title="Initiate Partner Application" type="object" 
					class="pa-none-badge" 
					context="{'crm_app_type': 'kyc', 'crm_app_state': 'new'}"
					invisible="current_kyc_state != False"
					string="KYC"/>

					<button name="initiate_partner_application" title="Initiate Partner Application" type="object" 
					class="pa-active-badge" 
					context="{'crm_app_type': 'kyc', 'crm_app_state': 'amend'}"
					invisible="current_kyc_state != 'active'"
					string="KYC"/>

					<button name="initiate_partner_application" title="Initiate Partner Application" type="object" 
					class="pa-expired-badge" 
					context="{'crm_app_type': 'kyc', 'crm_app_state': 'review'}"
					invisible="current_kyc_state != 'expired'"
					string="KYC"/>

					<button name="initiate_partner_application" title="Initiate Partner Application" type="object" 
					class="pa-none-badge" 
					context="{'crm_app_type': 'crm', 'crm_app_state': 'new'}"
					invisible="current_crm_state != False"
					string="CRM"/>

					<button name="initiate_partner_application" title="Initiate Partner Application" type="object" 
					class="pa-active-badge" 
					context="{'crm_app_type': 'crm', 'crm_app_state': 'amend'}"
					invisible="current_crm_state != 'active'"
					string="CRM"/>

					<button name="initiate_partner_application" title="Initiate Partner Application" type="object" 
					class="pa-expired-badge" 
					context="{'crm_app_type': 'crm', 'crm_app_state': 'review'}"
					invisible="current_crm_state != 'expired'"
					string="CRM"/>

					<button name="initiate_partner_application" title="Initiate Partner Application" type="object" 
					class="pa-none-badge" 
					context="{'crm_app_type': 'customer_credit', 'crm_app_state': 'new'}"
					invisible="current_customer_credit_state != False"
					string="CC"/>

					<button name="initiate_partner_application" title="Initiate Partner Application" type="object" 
					class="pa-active-badge" 
					context="{'crm_app_type': 'customer_credit', 'crm_app_state': 'amend'}"
					invisible="current_customer_credit_state != 'active'"
					string="CC"/>

					<button name="initiate_partner_application" title="Initiate Partner Application" type="object" 
					class="pa-expired-badge" 
					context="{'crm_app_type': 'customer_credit', 'crm_app_state': 'review'}"
					invisible="current_customer_credit_state != 'expired'"
					string="CC"/>

					<button name="initiate_partner_application" title="Initiate Partner Application" type="object" 
					class="pa-none-badge" 
					context="{'crm_app_type': 'customer_strategy', 'crm_app_state': 'new'}"
					invisible="current_customer_strategy_state != False"
					string="CS"/>

					<button name="initiate_partner_application" title="Initiate Partner Application" type="object" 
					class="pa-active-badge" 
					context="{'crm_app_type': 'customer_strategy', 'crm_app_state': 'amend'}"
					invisible="current_customer_strategy_state != 'active'"
					string="CS"/>

					<button name="initiate_partner_application" title="Initiate Partner Application" type="object" 
					class="pa-expired-badge" 
					context="{'crm_app_type': 'customer_strategy', 'crm_app_state': 'review'}"
					invisible="current_customer_strategy_state != 'expired'"
					string="CS"/>

					<button name="initiate_partner_application" title="Initiate Partner Application" type="object" 
					class="pa-none-badge" 
					context="{'crm_app_type': 'vrm', 'crm_app_state': 'new'}"
					invisible="current_vrm_state != False"
					string="VRM"/>

					<button name="initiate_partner_application" title="Initiate Partner Application" type="object" 
					class="pa-active-badge" 
					context="{'crm_app_type': 'vrm', 'crm_app_state': 'amend'}"
					invisible="current_vrm_state != 'active'"
					string="VRM"/>

					<button name="initiate_partner_application" title="Initiate Partner Application" type="object" 
					class="pa-expired-badge" 
					context="{'crm_app_type': 'vrm', 'crm_app_state': 'review'}"
					invisible="current_vrm_state != 'expired'"
					string="VRM"/>

					<button name="initiate_partner_application" title="Initiate Partner Application" type="object" 
					class="pa-none-badge" 
					context="{'crm_app_type': 'vendor_credit', 'crm_app_state': 'new'}"
					invisible="current_vendor_credit_state != False"
					string="VC"/>

					<button name="initiate_partner_application" title="Initiate Partner Application" type="object" 
					class="pa-active-badge" 
					context="{'crm_app_type': 'vendor_credit', 'crm_app_state': 'amend'}"
					invisible="current_vendor_credit_state != 'active'"
					string="VC"/>

					<button name="initiate_partner_application" title="Initiate Partner Application" type="object" 
					class="pa-expired-badge" 
					context="{'crm_app_type': 'vendor_credit', 'crm_app_state': 'review'}"
					invisible="current_vendor_credit_state != 'expired'"
					string="VC"/>

					<button name="initiate_partner_application" title="Initiate Partner Application" type="object" 
					class="pa-none-badge" 
					context="{'crm_app_type': 'vendor_strategy', 'crm_app_state': 'new'}"
					invisible="current_vendor_strategy_state != False"
					string="VS"/>

					<button name="initiate_partner_application" title="Initiate Partner Application" type="object" 
					class="pa-active-badge" 
					context="{'crm_app_type': 'vendor_strategy', 'crm_app_state': 'amend'}"
					invisible="current_vendor_strategy_state != 'active'"
					string="VS"/>

					<button name="initiate_partner_application" title="Initiate Partner Application" type="object" 
					class="pa-expired-badge" 
					context="{'crm_app_type': 'vendor_strategy', 'crm_app_state': 'review'}"
					invisible="current_vendor_strategy_state != 'expired'"
					string="VS"/>
					
				</div>
				
				<group name="pa_kyc_groups" invisible="is_pa_user == False">
					
					<group string="Basic Information">
						<field name="partner_id" widget="res_partner_many2one" options="{'no_open': True, 'no_quick_create': True, 'no_create': True}"
							context="{'default_name': contact_name,'default_title': title,'default_street': street,'default_street2': street2,'default_city': city,'default_state_id': state_id,'default_zip': zip,'default_country_id': country_id,'default_function': function,'default_phone': phone,'default_mobile': mobile,'default_email': email_from,'default_user_id': user_id,'default_team_id': team_id,'default_website': website,'default_lang': lang_code,'show_vat': True}"
							invisible="type == 'lead' and not is_partner_visible" />
						<field name="partner_name" string="Name" invisible="type == 'opportunity' or partner_id" readonly="company_type == 'person'" force_save="1" required="company_type == 'company' and not partner_id" />
						<field name="arabic_name" string="Arabic Name" invisible="partner_id"/>
						<field name="trade_name"  invisible="partner_id"/>
						<field name="ref" string="Internal Reference"  invisible="partner_id"/>
						<field name="company_type" string="Account Type" widget="radio"
							options="{'horizontal': true}"  invisible="partner_id"/>
						<field name="legal_type" invisible="company_type == 'person' or partner_id" />
						<field name="company_registry"  invisible="partner_id"/>
						<field name="company_registry_expiry_date"  invisible="partner_id"/>
						<field name="vat"  invisible="partner_id" />

						<field name="pa_arabic_name" string="Arabic Name"  invisible="not partner_id"/>
						<field name="pa_trade_name" invisible="not partner_id"/>
						<field name="pa_ref" string="Internal Reference" invisible="not partner_id"/>
						<field name="pa_company_type" string="Account Type" widget="radio"
							options="{'horizontal': true}" invisible="not partner_id"/>
						<field name="pa_legal_type" invisible="company_type == 'person' or not partner_id" />
						<field name="pa_company_registry" invisible="not partner_id"/>
						<field name="pa_company_registry_expiry_date" invisible="not partner_id"/>
						<field name="pa_vat" invisible="not partner_id"/>
					</group>
					
					<group string="Revenue, Assignment &amp; Teams">
						<field name="type" invisible="not is_partner_visible"/>
						<field name="expected_revenue" widget="monetary" options="{'currency_field': 'company_currency'}"/>
						<label for="probability"/>
						<div>
							<span class="oe_inline">%</span>	
							<field name="probability" class="oe_inline"/>
						</div>
						<field name="date_deadline" invisible="type == 'lead'"/>
						<field name="priority" widget="priority" />
						<field name="tag_ids" widget="many2many_tags"
							options="{'color_field': 'color', 'no_create_edit': True}" />
						
						<field name="user_id" widget="many2one_avatar_user"
							options="{'no_open': True, 'no_quick_create': True, 'no_create': True}"
							invisible="is_pa_user == False or (is_pa_user and partner_id)" 
							required="1"/>
						<field name="pa_user_id" widget="many2one_avatar_user"
							options="{'no_open': True, 'no_quick_create': True, 'no_create': True}"
							invisible="is_pa_user == False or (is_pa_user and not partner_id)"/>
						<field name="team_id" options="{'no_open': True, 'no_quick_create': True, 'no_create': True}"
							invisible="is_pa_user == False or (is_pa_user and not user_id) or (is_pa_user and partner_id)" readonly="1"/>
						<field name="pa_team_id" options="{'no_open': True, 'no_quick_create': True, 'no_create': True}"
							invisible="is_pa_user == False or (is_pa_user and not user_id) or (is_pa_user and not partner_id)"/>
						<field name="create_date"/>
						<field name="create_uid" widget="many2one_avatar_user"
							options="{'no_open': True, 'no_quick_create': True, 'no_create': True}"
							invisible="is_pa_user == False or (is_pa_user == True and create_uid == False)" />
						
						

					</group>
					<group string="Contact Person Details" invisible="partner_id">
						
						<field name="title" options="{'no_open': True, 'no_quick_create': True, 'no_create': True}" />
						<field name="contact_name" required="company_type == 'person' and not contact_partner_id"/>
						<field name="function" />
						<label for="email_from" class="oe_inline"/>
						<div class="o_row o_row_readonly">
							<button name="mail_action_blacklist_remove" class="fa fa-ban text-danger" title="This email is blacklisted for mass mailings. Click to unblacklist." type="object" context="{'default_email': email_from}" invisible="not is_blacklisted"/>
							<field name="email_from" string="Email" widget="email"/>
							<span class="fa fa-exclamation-triangle text-warning oe_edit_only" title="By saving this change, the customer email will also be updated." invisible="not partner_email_update"/>
						</div>
						<field name="email_cc" />
						<label for="mobile" class="oe_inline"/>
						<div class="o_row o_row_readonly">
							<button name="phone_action_blacklist_remove" class="fa fa-ban text-danger" title="This phone number is blacklisted for SMS Marketing. Click to unblacklist." type="object" context="{'default_phone': mobile}" invisible="not mobile_blacklisted"/>
							<field name="mobile" widget="phone" string="Mobile"/>
						</div>
					</group>
					<group string="Contact Person Details" invisible="not partner_id">
						<field name="contact_partner_id" widget="res_partner_many2one" options="{'no_open': True, 'no_quick_create': True, 'no_create': True}"  />
						<field name="pa_title" options="{'no_open': True, 'no_quick_create': True, 'no_create': True}"/>
						<field name="pa_contact_name"/>
						<field name="pa_function" />
						<label for="pa_email" class="oe_inline"/>
						<div class="o_row o_row_readonly">
							<button name="mail_action_blacklist_remove" class="fa fa-ban text-danger" title="This email is blacklisted for mass mailings. Click to unblacklist." type="object" context="{'default_email': pa_email}" invisible="not is_blacklisted"/>
							<field name="pa_email" string="Email" widget="email"/>
							<span class="fa fa-exclamation-triangle text-warning oe_edit_only" title="By saving this change, the customer email will also be updated." invisible="not partner_email_update"/>
						</div>
						<field name="pa_email_cc" />
						<label for="pa_mobile" class="oe_inline"/>
						<div class="o_row o_row_readonly">
							<button name="phone_action_blacklist_remove" class="fa fa-ban text-danger" title="This phone number is blacklisted for SMS Marketing. Click to unblacklist." type="object" context="{'default_phone': pa_mobile}" invisible="not mobile_blacklisted"/>
							<field name="pa_mobile" widget="phone" string="Mobile"/>
						</div>
					</group>
					<group string="Registered Address" invisible="partner_id">

						<field name="street" placeholder="Street..." />
						<field name="street2" placeholder="Street 2..." />
						<field name="city" placeholder="City" required="not partner_id"/>
						<field name="state_id" placeholder="State" options="{'no_open': True, 'no_quick_create': True, 'no_create': True}" />
						<field name="zip" placeholder="ZIP"  />
						<field name="country_id" placeholder="Country" options="{'no_open': True, 'no_quick_create': True, 'no_create': True}" required="not partner_id" />
					</group>
					<group string="Registered Address"  invisible="not partner_id">

						
							<field name="pa_street" placeholder="Street..." />
							<field name="pa_street2" placeholder="Street 2..." />
							<field name="pa_city" placeholder="City" />
							<field name="pa_state_id" placeholder="State" options="{'no_open': True, 'no_quick_create': True, 'no_create': True}" />
							<field name="pa_zip" placeholder="ZIP"  />
							<field name="pa_country_id" placeholder="Country" options="{'no_open': True, 'no_quick_create': True, 'no_create': True}"  />
						
					</group>
					<group string="Entity Contact Details" invisible="partner_id">
						<field name="website" widget="url" placeholder="e.g. https://www.google.com"/>
						<label for="phone" class="oe_inline"/>
						<div class="o_row o_row_readonly">
							<button name="phone_action_blacklist_remove" class="fa fa-ban text-danger" title="This phone number is blacklisted for SMS Marketing. Click to unblacklist." type="object" context="{'default_phone': phone}" invisible="not phone_blacklisted"/>
							<field name="phone" widget="phone"/>
							<span class="fa fa-exclamation-triangle text-warning oe_edit_only" title="By saving this change, the customer phone number will also be updated." invisible="not partner_phone_update"/>
						</div>
					</group>
					<group string="Entity Contact Details"  invisible="not partner_id">
						<field name="pa_website" widget="url" placeholder="e.g. https://www.google.com"/>
						<label for="pa_phone" class="oe_inline"/>
						<div class="o_row o_row_readonly">
							<button name="phone_action_blacklist_remove" class="fa fa-ban text-danger" title="This phone number is blacklisted for SMS Marketing. Click to unblacklist." type="object" context="{'default_phone': pa_phone}" invisible="not phone_blacklisted"/>
							<field name="pa_phone" widget="phone"/>
							<span class="fa fa-exclamation-triangle text-warning oe_edit_only" title="By saving this change, the customer phone number will also be updated." invisible="not partner_phone_update"/>
						</div>
					</group>
					<group string="Business Information" invisible="partner_id">
						<field name="industry_id"
							options="{'no_open': True, 'no_quick_create': True, 'no_create': True}" />
						<field name="year_founded" placeholder="1950" />
						<field name="paidup_capital" placeholder="50000" />
						<field name="ownership_structure" />
						<field name="management_structure" />
					</group>
					<group string="Business Information" invisible="not partner_id">
						<field name="pa_industry_id"
							options="{'no_open': True, 'no_quick_create': True, 'no_create': True}" />
						<field name="pa_year_founded" placeholder="1950" />
						<field name="pa_paidup_capital" placeholder="50000" />
						<field name="pa_ownership_structure" />
						<field name="pa_management_structure" />
					</group>
				<!--CRM GROUPS-->
					<group string="CRM Segmentation" invisible="is_pa_user == False or (is_pa_user and partner_id)">
						<field name="customer_class"/>
						<field name="customer_segment"/>
						<field name="customer_pricelist_ids" widget="many2many_tags" options="{'no_open': True, 'no_quick_create': True, 'no_create': True}"/>
					</group>
					<group string="CRM Customer Business" invisible="is_pa_user == False or (is_pa_user and partner_id)">
						<field name="annual_revenues" />
						<field name="employee_count" />
						<field name="countries_covered" widget="many2many_tags" options="{'no_open': True, 'no_quick_create': True, 'no_create': True}" />
						<field name="business_brief" />
					</group>
					<group string="CRM Account Requirements" invisible="is_pa_user == False or (is_pa_user and partner_id)">
						<field name="account_requirements"/>
					</group>				
					<group string="CRM Account Operations" invisible="is_pa_user == False or (is_pa_user and partner_id)">
						<field name="services_needed"  widget="many2many_tags" options="{'no_open': True, 'no_quick_create': True, 'no_create': True}"/>
						<field name="service_categories_needed"  widget="many2many_tags" options="{'no_open': True, 'no_quick_create': True, 'no_create': True}"/>
						<field name="major_countries" widget="many2many_tags" options="{'no_open': True, 'no_quick_create': True, 'no_create': True}"/>
						<field name="operation_brief"/>
					</group>
				<!--PA CRM GROUPS-->
					<group string="CRM Segmentation" invisible="is_pa_user == False or (is_pa_user and not partner_id)">
						<field name="pa_customer_class"/>
						<field name="pa_customer_segment"/>
						<field name="pa_customer_pricelist_ids" widget="many2many_tags" options="{'no_open': True, 'no_quick_create': True, 'no_create': True}"/>
					</group>
					<group string="CRM Customer Business" invisible="is_pa_user == False or (is_pa_user and not partner_id)">
						<field name="pa_annual_revenues" />
						<field name="pa_employee_count" />
						<field name="pa_countries_covered" widget="many2many_tags" options="{'no_open': True, 'no_quick_create': True, 'no_create': True}" />
						<field name="pa_business_brief" />
					</group>
					<group string="CRM Account Requirements" invisible="is_pa_user == False or (is_pa_user and not partner_id)">
						<field name="pa_account_requirements"/>
					</group>				
					<group string="CRM Account Operations" invisible="is_pa_user == False or (is_pa_user and not partner_id)">
						<field name="pa_services_needed"  widget="many2many_tags" options="{'no_open': True, 'no_quick_create': True, 'no_create': True}"/>
						<field name="pa_service_categories_needed"  widget="many2many_tags" options="{'no_open': True, 'no_quick_create': True, 'no_create': True}"/>
						<field name="pa_major_countries" widget="many2many_tags" options="{'no_open': True, 'no_quick_create': True, 'no_create': True}"/>
						<field name="pa_operation_brief"/>
					</group>

					<group string="Customer Credit Information" invisible="is_pa_user == False or (is_pa_user and partner_id)">
						<field name="monthly_expected_business"/>
						<field name="customer_credit_limit" string="Credit Limit"/>
						<field name="customer_payment_term_ids" string="Payment Terms"  options="{'no_open': True, 'no_quick_create': True, 'no_create': True}"/>
						<field name="credit_trade_references" />
					</group>
					
					<group string="Customer Credit Information" invisible="is_pa_user == False or (is_pa_user and not partner_id)">
						<field name="pa_monthly_expected_business"/>
						<field name="pa_customer_credit_limit" string="Credit Limit"/>
						<field name="pa_customer_payment_term_ids" string="Payment Terms"  options="{'no_open': True, 'no_quick_create': True, 'no_create': True}"/>
						<field name="pa_credit_trade_references" />
					</group>
				</group>

			</xpath>
		</field>
	</record>
	<!--
	<record id="crm_lead_view_pivot_pa_inherit" model="ir.ui.view">
		<field name="name">crm.lead.view.pivot.inherit.pa</field>
		<field name="model">crm.lead</field>
		<field name="inherit_id" ref="crm.crm_lead_view_pivot" />
		<field name="priority">9999</field>
		<field name="arch" type="xml">
			<xpath expr="//pivot" position="inside">
				<field name='account_requirements' type='measure' invisible='1'/>
				<field name='annual_revenues' type='measure' invisible='1'/>
				<field name='arabic_name' type='measure' invisible='1'/>
				<field name='business_brief' type='measure' invisible='1'/>
				<field name='company_registry' type='measure' invisible='1'/>
				<field name='company_registry_expiry_date' type='measure' invisible='1'/>
				<field name='company_type' type='measure' invisible='1'/>
				<field name='contact_partner_id' type='measure' invisible='1'/>
				<field name='countries_covered' type='measure' invisible='1'/>
				<field name='credit_trade_references' type='measure' invisible='1'/>
				<field name='currency_id' type='measure' invisible='1'/>
				<field name='current_crm_expiry_date' type='measure' invisible='1'/>
				<field name='current_crm_id' type='measure' invisible='1'/>
				<field name='current_crm_review_date' type='measure' invisible='1'/>
				<field name='current_crm_state' type='measure' invisible='1'/>
				<field name='current_customer_credit_expiry_date' type='measure' invisible='1'/>
				<field name='current_customer_credit_id' type='measure' invisible='1'/>
				<field name='current_customer_credit_review_date' type='measure' invisible='1'/>
				<field name='current_customer_credit_state' type='measure' invisible='1'/>
				<field name='current_customer_strategy_expiry_date' type='measure' invisible='1'/>
				<field name='current_customer_strategy_id' type='measure' invisible='1'/>
				<field name='current_customer_strategy_review_date' type='measure' invisible='1'/>
				<field name='current_customer_strategy_state' type='measure' invisible='1'/>
				<field name='current_kyc_expiry_date' type='measure' invisible='1'/>
				<field name='current_kyc_id' type='measure' invisible='1'/>
				<field name='current_kyc_review_date' type='measure' invisible='1'/>
				<field name='current_kyc_state' type='measure' invisible='1'/>
				<field name='current_user_id' type='measure' invisible='1'/>
				<field name='current_user_id' type='measure' invisible='1'/>
				<field name='current_vendor_credit_expiry_date' type='measure' invisible='1'/>
				<field name='current_vendor_credit_id' type='measure' invisible='1'/>
				<field name='current_vendor_credit_review_date' type='measure' invisible='1'/>
				<field name='current_vendor_credit_state' type='measure' invisible='1'/>
				<field name='current_vendor_strategy_expiry_date' type='measure' invisible='1'/>
				<field name='current_vendor_strategy_id' type='measure' invisible='1'/>
				<field name='current_vendor_strategy_review_date' type='measure' invisible='1'/>
				<field name='current_vendor_strategy_state' type='measure' invisible='1'/>
				<field name='current_vrm_expiry_date' type='measure' invisible='1'/>
				<field name='current_vrm_id' type='measure' invisible='1'/>
				<field name='current_vrm_review_date' type='measure' invisible='1'/>
				<field name='current_vrm_state' type='measure' invisible='1'/>
				<field name='customer_class' type='measure' invisible='1'/>
				<field name='customer_credit_limit' type='measure' invisible='1'/>
				<field name='customer_payment_term_ids' type='measure' invisible='1'/>
				<field name='customer_pricelist_ids' type='measure' invisible='1'/>
				<field name='customer_segment' type='measure' invisible='1'/>
				<field name='employee_count' type='measure' invisible='1'/>
				<field name='industry_id' type='measure' invisible='1'/>
				<field name='is_pa_user' type='measure' invisible='1'/>
				<field name='is_pa_user' type='measure' invisible='1'/>
				<field name='legal_type' type='measure' invisible='1'/>
				<field name='major_countries' type='measure' invisible='1'/>
				<field name='management_structure' type='measure' invisible='1'/>
				<field name='monthly_expected_business' type='measure' invisible='1'/>
				<field name='operation_brief' type='measure' invisible='1'/>
				<field name='ownership_structure' type='measure' invisible='1'/>
				<field name='pa_account_requirements' type='measure' invisible='1'/>
				<field name='pa_annual_revenues' type='measure' invisible='1'/>
				<field name='pa_arabic_name' type='measure' invisible='1'/>
				<field name='pa_business_brief' type='measure' invisible='1'/>
				<field name='pa_city' type='measure' invisible='1'/>
				<field name='pa_company_registry' type='measure' invisible='1'/>
				<field name='pa_company_registry_expiry_date' type='measure' invisible='1'/>
				<field name='pa_company_type' type='measure' invisible='1'/>
				<field name='pa_contact_name' type='measure' invisible='1'/>
				<field name='pa_countries_covered' type='measure' invisible='1'/>
				<field name='pa_country_id' type='measure' invisible='1'/>
				<field name='pa_credit_trade_references' type='measure' invisible='1'/>
				<field name='pa_customer_class' type='measure' invisible='1'/>
				<field name='pa_customer_credit_limit' type='measure' invisible='1'/>
				<field name='pa_customer_payment_term_ids' type='measure' invisible='1'/>
				<field name='pa_customer_pricelist_ids' type='measure' invisible='1'/>
				<field name='pa_customer_segment' type='measure' invisible='1'/>
				<field name='pa_email' type='measure' invisible='1'/>
				<field name='pa_email_cc' type='measure' invisible='1'/>
				<field name='pa_employee_count' type='measure' invisible='1'/>
				<field name='pa_function' type='measure' invisible='1'/>
				<field name='pa_industry_id' type='measure' invisible='1'/>
				<field name='pa_legal_type' type='measure' invisible='1'/>
				<field name='pa_major_countries' type='measure' invisible='1'/>
				<field name='pa_management_structure' type='measure' invisible='1'/>
				<field name='pa_mobile' type='measure' invisible='1'/>
				<field name='pa_monthly_expected_business' type='measure' invisible='1'/>
				<field name='pa_operation_brief' type='measure' invisible='1'/>
				<field name='pa_ownership_structure' type='measure' invisible='1'/>
				<field name='pa_paidup_capital' type='measure' invisible='1'/>
				<field name='pa_phone' type='measure' invisible='1'/>
				<field name='pa_ref' type='measure' invisible='1'/>
				<field name='pa_service_categories_needed' type='measure' invisible='1'/>
				<field name='pa_services_needed' type='measure' invisible='1'/>
				<field name='pa_state_id' type='measure' invisible='1'/>
				<field name='pa_street' type='measure' invisible='1'/>
				<field name='pa_street2' type='measure' invisible='1'/>
				<field name='pa_team_id' type='measure' invisible='1'/>
				<field name='pa_title' type='measure' invisible='1'/>
				<field name='pa_trade_name' type='measure' invisible='1'/>
				<field name='pa_user_id' type='measure' invisible='1'/>
				<field name='pa_vat' type='measure' invisible='1'/>
				<field name='pa_website' type='measure' invisible='1'/>
				<field name='pa_year_founded' type='measure' invisible='1'/>
				<field name='pa_zip' type='measure' invisible='1'/>
				<field name='paidup_capital' type='measure' invisible='1'/>
				<field name='ref' type='measure' invisible='1'/>
				<field name='same_pa_company_registry_lead_id' type='measure' invisible='1'/>
				<field name='same_pa_company_registry_partner_id' type='measure' invisible='1'/>
				<field name='same_pa_email_lead_id' type='measure' invisible='1'/>
				<field name='same_pa_email_partner_id' type='measure' invisible='1'/>
				<field name='same_pa_mobile_lead_id' type='measure' invisible='1'/>
				<field name='same_pa_mobile_partner_id' type='measure' invisible='1'/>
				<field name='same_pa_name_lead_id' type='measure' invisible='1'/>
				<field name='same_pa_name_partner_id' type='measure' invisible='1'/>
				<field name='same_pa_phone_lead_id' type='measure' invisible='1'/>
				<field name='same_pa_phone_partner_id' type='measure' invisible='1'/>
				<field name='same_pa_vat_lead_id' type='measure' invisible='1'/>
				<field name='same_pa_vat_partner_id' type='measure' invisible='1'/>
				<field name='same_pa_website_lead_id' type='measure' invisible='1'/>
				<field name='same_pa_website_partner_id' type='measure' invisible='1'/>
				<field name='service_categories_needed' type='measure' invisible='1'/>
				<field name='services_needed' type='measure' invisible='1'/>
				<field name='trade_name' type='measure' invisible='1'/>
				<field name='vat' type='measure' invisible='1'/>
				<field name='year_founded' type='measure' invisible='1'/>

				
			
			</xpath>
		</field>
	</record>
	-->
	<record id="view_crm_lead2opportunity_partner_pa_inherit" model="ir.ui.view">
		<field name="name">
			crm.lead2opportunity.partner.form.pa.inherit
		</field>
		<field name="model">crm.lead2opportunity.partner</field>
		<field name="inherit_id" ref="crm.view_crm_lead2opportunity_partner" />
		<field name="priority">9999</field>
		<field name="arch" type="xml">
			<field name="name" position="after">
				<field name="current_user_id" invisible="1"/>
				<field name="is_pa_user" invisible="1"/>
			</field>
			<xpath expr="(//field[@name='name'])" position="attributes">
				<attribute name="readonly">is_pa_user</attribute>
			</xpath>
			<xpath expr="(//field[@name='user_id'])" position="attributes">
				<attribute name="readonly">is_pa_user</attribute>
			</xpath>
			<xpath expr="(//field[@name='team_id'])" position="attributes">
				<attribute name="readonly">is_pa_user</attribute>
			</xpath>
			<xpath expr="(//field[@name='action'])" position="attributes">
				<attribute name="readonly">is_pa_user</attribute>
			</xpath>

		</field>
	</record>

	<record id="crm.action_crm_send_mass_convert" model="ir.actions.act_window">
        
		<field name="groups_id" eval="[(4,ref('base.group_no_one'))]"/>
    </record>

	<!-- CRM Stage Form -->
	<record id="crm_stage_form_inherit_pa" model="ir.ui.view">
		<field name="name">crm.stage.form.inherit.pa</field>
		<field name="model">crm.stage</field>
		<field name="inherit_id" ref="crm.crm_stage_form" />
		<field name="priority">9999</field>
		<field name="arch" type="xml">
			<xpath expr="(//field[@name='requirements'])" position="before">
				<field name="requires_kyc"/>
				<field name="requires_crm"/>
				<field name="requires_cc"/>
				<field name="requires_cs"/>
				<field name="requires_vrm"/>
				<field name="requires_vc"/>
				<field name="requires_vs"/>
			</xpath>
		</field>
	</record>
</odoo>
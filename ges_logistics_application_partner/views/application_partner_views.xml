<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <!-- Partner Application  Views -->

    <!--Actions-->
    <record id="application_partner_act_window" model="ir.actions.act_window">
        <field name="name">Applications</field>
        <field name="res_model">application.partner</field>
        <field name="view_mode">tree,form</field>
        <field name="context">{}</field>
        <field name="domain">[]</field>
    </record>


    <!--Views-->
    <record id="application_partner_search_view" model="ir.ui.view">
        <field name="name">application.partner.search.view</field>
        <field name="model">application.partner</field>
        <field name="arch" type="xml">
            <search string="Search Applications">
                <field name="name" string="Name &amp; Partner" filter_domain="['|', '|', '|', '|', ('name', 'ilike', self), ('partner_id', 'child_of', self), ('email', 'ilike', self), ('vat', 'ilike', self), ('company_registry', 'ilike', self)]"/>
                <field name="category_id" string="Tag" operator="child_of"/>
                <field name="sales_user_id" string="Users &amp; Teams" filter_domain="['|', '|', '|', '|', ('sales_user_id', 'child_of', self), ('procurement_user_id', 'child_of', self), ('sales_ou_id', 'child_of', self), ('procurement_ou_id', 'child_of', self),]"/>
                <separator/>
                <filter string="My Applications" name="my_apps" domain='["|",("partner_id.sales_user_id", "=", uid),("partner_id.procurement_user_id", "=", uid)]'/>
                <filter string="Pending" name="pending_apps" domain='["&amp;", ("ticket_ids.user_id", "=", uid), ("ticket_ids.action", "=", "open")]'/>
                <filter string="Due" name="due_apps" domain='[("state", "in", ("active","expired")),("review_date","&lt;",(context_today()+relativedelta(months=1)))]'/>
                <filter string="Expired" name="expired_apps" domain='[("state", "=", "expired")]'/>
                <separator/>
                <filter string="New" name="new" domain="[('application_request_type', '=', 'new')]"/>
                <filter string="Review" name="review" domain="[('application_request_type', '=', 'review')]"/>
                <filter string="Amend" name="new" domain="[('application_request_type', '=', 'amend')]"/>
                <separator/>
                <filter string="KYC" name="kyc" domain="[('application_type', '=', 'kyc')]"/>
                <filter string="CRM" name="crm" domain="[('application_type', '=', 'crm')]"/>
                <filter string="CC" name="cc" domain="[('application_type', '=', 'customer_credit')]"/>
                <filter string="CS" name="cs" domain="[('application_type', '=', 'customer_strategy')]"/>
                <filter string="VRM" name="vrm" domain="[('application_type', '=', 'vrm')]"/>
                <filter string="VC" name="vc" domain="[('application_type', '=', 'vendor_credit')]"/>
                <filter string="VS" name="vs" domain="[('application_type', '=', 'vendor_strategy')]"/>
                <separator/>
                <filter string="Archived" name="inactive" domain="[('active', '=', False)]"/>
                <separator/>
                <group expand="0" name="group_by" string="Group By">
                    <filter name="sales_user" string="Sales User" domain="[]" context="{'group_by' : 'sales_user_id'}"/>
                    <filter name="sales_unit" string="Sales Unit" domain="[]" context="{'group_by' : 'sales_ou_id'}"/>
                    <filter name="procurement_user" string="Procurement User" domain="[]" context="{'group_by' : 'procurement_user_id'}"/>
                    <filter name="procurement_unit" string="Procurement Unit" domain="[]" context="{'group_by' : 'procurement_ou_id'}"/>
                    <filter name="group_partner" string="Partner" context="{'group_by': 'partner_id'}"/>
                    <filter name="group_country" string="Country" context="{'group_by': 'country_id'}"/>
                    <filter name="group_state" string="Status" context="{'group_by': 'state'}"/>
                    <filter name="group_app_type" string="Type" context="{'group_by': 'application_type'}"/>
                    <filter name="group_request_type" string="Request" context="{'group_by': 'application_request_type'}"/>
                </group>
            </search>
        </field>
    </record>

    <record id="application_partner_list_view" model="ir.ui.view">
        <field name="name">application.partner.list.view</field>
        <field name="model">application.partner</field>
        <field name="arch" type="xml">
            <tree decoration-primary="state == 'submitted' or state == 'validated'" decoration-info="state == 'approved'" decoration-success="state == 'active'" decoration-danger="state == 'expired'" decoration-muted="state == 'cancel'" decoration-warning="state == 'rejected'">
                <field name="partner_id"/>
                <field name="name"/>
                <field name="application_request_type"/>
                <field name="application_type"/>
                <field name="expiry_date" string="Expiry Date" widget="remaining_days" optional="hide"/>
                <field name="review_date" string="Next Review" widget="remaining_days" optional="hide"/>
                <field name="state" widget="badge" decoration-primary="state == 'submitted' or state == 'validated'" decoration-info="state == 'approved'" decoration-success="state == 'active'" decoration-danger="state == 'expired'" decoration-muted="state == 'cancel'" decoration-warning="state == 'rejected'"/>
            </tree>
        </field>
    </record>

    
    
   

    <record id="application_partner_form_view" model="ir.ui.view">
        <field name="name">application.partner.form.view</field>
        <field name="model">application.partner</field>
        <field name="arch" type="xml">
            <form duplicate="0">
                <header>
                    
                    <field name="state" widget="statusbar" class="o_field_statusbar" options="{'clickable': '0', 'fold_field': 'fold'}" invisible="active == False"/>
                    <button name="action_wizard_submit" data-hotkey="q" string="Submit" class="oe_highlight" type="object" groups="ges_logistics_application_partner.group_partner_application_user_submit" invisible="state != 'draft'"/>

                    <button name="action_wizard_validate_unit" data-hotkey="q" string="Validate" class="oe_highlight" type="object" groups="ges_logistics_application_partner.group_partner_application_user_submit" invisible="state != 'unit_validation' or (state == 'unit_validation' and not is_unit_validator)"/>
                    <button name="action_wizard_return_unit" data-hotkey="z" string="Return" class="oe_highlight" type="object" groups="ges_logistics_application_partner.group_partner_application_user_submit" invisible="state != 'unit_validation' or (state == 'unit_validation' and not is_unit_validator)"/>

                    <button name="action_wizard_validate_function" data-hotkey="q" string="Validate" class="oe_highlight" type="object" groups="ges_logistics_application_partner.group_partner_application_user_validate" invisible="state != 'function_validation'"/>
                    <button name="action_wizard_return_function" data-hotkey="z" string="Return" class="oe_highlight" type="object" groups="ges_logistics_application_partner.group_partner_application_user_return_draft" invisible="state != 'function_validation'"/>

                    <button name="action_wizard_approve" data-hotkey="q" string="Approve" class="oe_highlight" type="object" groups="ges_logistics_application_partner.group_partner_application_user_approve" invisible="state != 'approval'"/>
                    <button name="action_wizard_reject" data-hotkey="z" string="Reject" class="oe_highlight" type="object" groups="ges_logistics_application_partner.group_partner_application_user_approve" invisible="state != 'approval'"/>
                    
                    <button name="action_wizard_cancel" string="Cancel" class="oe_highlight" type="object" groups="ges_logistics_application_partner.group_partner_application_user_cancel" invisible="state in ['cancel','validated','submitted']"/>
                </header>
                <div class="alert alert-danger oe_edit_only" role="alert" name="warning_partner_tax"
                    invisible="not same_pa_vat_partner_id">
                    A Partner with the same <span>
                        <span class="o_vat_label">Tax ID</span>
                    </span> already exists (
                    <field name="same_pa_vat_partner_id" />
                    ).
                </div>
                <div class="alert alert-danger oe_edit_only" role="alert" name="warning_partner_company"
                    invisible="not same_pa_company_registry_partner_id">
                    A Partner with the same <span>
                        <span class="o_vat_label">Company Registry</span>
                    </span> already exists (
                    <field name="same_pa_company_registry_partner_id" />
                    ).
                </div>
                <div class="alert alert-danger oe_edit_only" role="alert" name="warning_partner_name"
                    invisible="not same_pa_name_partner_id">
                    A Partner with the same <span>
                        <span class="o_vat_label">Name</span>
                    </span> already exists (
                    <field name="same_pa_name_partner_id" />
                    ).
                </div>
                <div class="alert alert-danger oe_edit_only" role="alert" name="warning_partner_website"
                    invisible="not same_pa_website_partner_id">
                    A Partner with the same <span>
                        <span class="o_vat_label">Website</span>
                    </span> already exists (
                    <field name="same_pa_website_partner_id" />
                    ).
                </div>
                <div class="alert alert-danger oe_edit_only" role="alert" name="warning_partner_email"
                    invisible="not same_pa_email_partner_id">
                    A Partner with the same <span>
                        <span class="o_vat_label">Email</span>
                    </span> already exists (
                    <field name="same_pa_email_partner_id" />
                    ).
                </div>
                <div class="alert alert-danger oe_edit_only" role="alert" name="warning_partner_phone"
                    invisible="not same_pa_phone_partner_id">
                    A Partner with the same <span>
                        <span class="o_vat_label">Phone</span>
                    </span> already exists (
                    <field name="same_pa_phone_partner_id" />
                    ).
                </div>
                <div class="alert alert-danger oe_edit_only" role="alert" name="warning_partner_mobile"
                    invisible="not same_pa_mobile_partner_id">
                    A Partner with the same <span>
                        <span class="o_vat_label">Mobile</span>
                    </span> already exists (
                    <field name="same_pa_mobile_partner_id" />
                    ).
                </div>
                <sheet>
                    <field name="active" invisible="1"/>
                    <widget name="web_ribbon" title="Archived" bg_color="bg-danger"
                            invisible="active == True"
                            />
                    <div class="oe_title mb12">
                        <h1>
                            <field class="text-break" name="name" readonly="1"/>
                        </h1>
                    </div>
                    <group>
                        <group>
                            <!--<field class="text-break" name="name" readonly="1" string="Application #"/>-->
                            <field name="current_user_id" invisible="1" readonly="1"/>
                            <field name="current_operating_unit_sales_id" invisible="1" readonly="1"/>
                            <field name="current_operating_unit_procurement_id" invisible="1" readonly="1"/>
                            <field name="partner_id" string="Account" required="1" options="{'no_open': True, 'no_quick_create': True, 'no_create': True}" readonly="state != 'draft'"/>
                            <!--<field name="application_direction" widget="radio" options="{'horizontal': true}" on_change="1" />-->
                            <!--<field name="application_type" widget="radio" options="{'horizontal': true}" on_change="1"/>-->
                            
                            <span class="o_form_label" style="color: black"><strong>Status</strong></span>
                            <span class="o_form_field">
                                <table>
                                    <tr>
                                        <td colspan="2" style="margin-left: 2px;"><u>Application</u></td>
                                        <td><u>Expiry</u></td>
                                    </tr>
                                    <tr>
                                        <td style="vertical-align: top;">
                                            <i class="fa fa-times-circle" style="color: #C0C0C0; margin-left: 2px; margin-right: 20px" invisible="current_kyc_state != False" help="No records"/>
                                            <i class="fa fa-check-circle" style="color: green; margin-left: 2px; margin-right: 20px" invisible="current_kyc_state != 'active'"  help="Active"/>
                                            <i class="fa fa-exclamation-circle" style="color: red; margin-left: 2px; margin-right: 20px" invisible="current_kyc_state != 'expired'" help="Expired"/>
                                        </td>
                                        <td style="vertical-align: top; width: 150px; height:20px;">KYC</td>
                                        <td style="vertical-align: top;">
                                            <field name="current_kyc_state" class="oe_inline" invisible="1"/>
                                            <field name="current_kyc_expiry_date" widget="remaining_days" style="line-height:0px !important"/>
                                            <!--<field name="current_kyc_expiry_date" class="oe_inline" widget="date" style="line-height:0px !important"/>-->
                                        </td>
                                    </tr>
                                    <tr>
                                        <td style="vertical-align: top;">
                                            <i class="fa fa-times-circle" style="color: #C0C0C0; margin-left: 2px; margin-right: 20px" invisible="current_crm_state != False" help="No records"/>
                                            <i class="fa fa-check-circle" style="color: green; margin-left: 2px; margin-right: 20px" invisible="current_crm_state != 'active'"  help="Active"/>
                                            <i class="fa fa-exclamation-circle" style="color: red; margin-left: 2px; margin-right: 20px" invisible="current_crm_state != 'expired'" help="Expired"/>
                                        </td>
                                        <td style="vertical-align: top; width: 150px; height:20px;">CRM</td>
                                        <td style="vertical-align: top;">
                                            <field name="current_crm_id" class="oe_inline" invisible="1"/>
                                            <field name="current_crm_state" class="oe_inline" invisible="1"/>
                                            <field name="current_crm_expiry_date" widget="remaining_days" style="line-height:0px !important"/>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td style="vertical-align: top;">
                                            <i class="fa fa-times-circle" style="color: #C0C0C0; margin-left: 2px; margin-right: 20px" invisible="current_customer_credit_state != False" help="No records"/>
                                            <i class="fa fa-check-circle" style="color: green; margin-left: 2px; margin-right: 20px" invisible="current_customer_credit_state != 'active'"  help="Active"/>
                                            <i class="fa fa-exclamation-circle" style="color: red; margin-left: 2px; margin-right: 20px" invisible="current_customer_credit_state != 'expired'" help="Expired"/>
                                        </td>
                                        <td style="vertical-align: top; width: 150px; height:20px;">Customer Credit</td>                                    
                                        <td style="vertical-align: top;">
                                            <field name="current_customer_credit_id" class="oe_inline" invisible="1"/>
                                            <field name="current_customer_credit_state" class="oe_inline" invisible="1"/>
                                            <field name="current_customer_credit_expiry_date" widget="remaining_days" style="line-height:0px !important"/>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td style="vertical-align: top;">
                                            <i class="fa fa-times-circle" style="color: #C0C0C0; margin-left: 2px; margin-right: 20px" invisible="current_customer_strategy_state != False" help="No records"/>
                                            <i class="fa fa-check-circle" style="color: green; margin-left: 2px; margin-right: 20px" invisible="current_customer_strategy_state != 'active'"  help="Active"/>
                                            <i class="fa fa-exclamation-circle" style="color: red; margin-left: 2px; margin-right: 20px" invisible="current_customer_strategy_state != 'expired'" help="Expired"/>
                                        </td>
                                        <td style="vertical-align: top; width: 150px; height:20px;">Customer Strategy</td>                                        
                                        <td style="vertical-align: top;">
                                            <field name="current_customer_strategy_id" class="oe_inline" invisible="1"/> 
                                            <field name="current_customer_strategy_state" class="oe_inline" invisible="1"/>
                                            <field name="current_customer_strategy_expiry_date" widget="remaining_days" style="line-height:0px !important"/>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td style="vertical-align: top;">
                                            <i class="fa fa-times-circle" style="color: #C0C0C0; margin-left: 2px; margin-right: 20px" invisible="current_vrm_state != False" help="No records"/>
                                            <i class="fa fa-check-circle" style="color: green; margin-left: 2px; margin-right: 20px" invisible="current_vrm_state != 'active'"  help="Active"/>
                                            <i class="fa fa-exclamation-circle" style="color: red; margin-left: 2px; margin-right: 20px" invisible="current_vrm_state != 'expired'" help="Expired"/>
                                        </td>
                                        <td style="vertical-align: top; width: 150px; height:20px;">VRM</td>                                        
                                        <td style="vertical-align: top;">
                                            <field name="current_vrm_id" class="oe_inline" invisible="1"/>
                                            <field name="current_vrm_state" class="oe_inline" invisible="1"/>
                                            <field name="current_vrm_expiry_date" widget="remaining_days" style="line-height:0px !important"/>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td style="vertical-align: top;">
                                            <i class="fa fa-times-circle" style="color: #C0C0C0; margin-left: 2px; margin-right: 20px" invisible="current_vendor_credit_state != False" help="No records"/>
                                            <i class="fa fa-check-circle" style="color: green; margin-left: 2px; margin-right: 20px" invisible="current_vendor_credit_state != 'active'"  help="Active"/>
                                            <i class="fa fa-exclamation-circle" style="color: red; margin-left: 2px; margin-right: 20px" invisible="current_vendor_credit_state != 'expired'" help="Expired"/>
                                        </td>
                                        <td style="vertical-align: top; width: 150px; height:20px;">Vendor Credit</td>                            
                                        <td style="vertical-align: top;">
                                            <field name="current_vendor_credit_id" class="oe_inline" invisible="1"/>
                                            <field name="current_vendor_credit_state" class="oe_inline" invisible="1"/>
                                            <field name="current_vendor_credit_expiry_date" widget="remaining_days" style="line-height:0px !important"/>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td style="vertical-align: top;">
                                            <i class="fa fa-times-circle" style="color: #C0C0C0; margin-left: 2px; margin-right: 20px" invisible="current_vendor_strategy_state != False" help="No records"/>
                                            <i class="fa fa-check-circle" style="color: green; margin-left: 2px; margin-right: 20px" invisible="current_vendor_strategy_state != 'active'"  help="Active"/>
                                            <i class="fa fa-exclamation-circle" style="color: red; margin-left: 2px; margin-right: 20px" invisible="current_vendor_strategy_state != 'expired'" help="Expired"/>
                                        </td>
                                        <td style="vertical-align: top; width: 150px; height:20px;">Vendor Strategy</td>                                        
                                        <td style="vertical-align: top;">
                                            <field name="current_vendor_strategy_id" class="oe_inline" invisible="1"/>
                                            <field name="current_vendor_strategy_state" class="oe_inline" invisible="1"/>
                                            <field name="current_vendor_strategy_expiry_date" widget="remaining_days" style="line-height:0px !important"/>
                                        </td>
                                    </tr>
                                </table>
                            </span>

                            


                            

                            


                        </group>
                   
                    
                    <!--
                    <div name="application_type" class="o_inner_group grid">
                        <span class="o_form_label">Application Type</span>
                        <span class="o_form_field">
                            <span class="d-inline-block">
                                <field name="is_kyc" on_change="1"/>
                                <label for="is_kyc"/>
                            </span>
                            <span class="d-inline-block" invisible="application_direction != 'customer'">
                                <field name="is_crm"/>
                                <label for="is_crm"/>
                            </span>
                            <span class="d-inline-block" invisible="application_direction != 'customer'">
                                <field name="is_customer_credit"/>
                                <label for="is_customer_credit"/>
                            </span>
                            <span class="d-inline-block" invisible="application_direction != 'customer'">
                                <field name="is_customer_strategy"/>
                                <label for="is_customer_strategy"/>
                            </span>
                            <span class="d-inline-block" invisible="application_direction != 'vendor'">
                                <field name="is_vrm"/>
                                <label for="is_vrm"/>
                            </span>
                            <span class="d-inline-block" invisible="application_direction != 'vendor'">
                                <field name="is_vendor_credit"/>
                                <label for="is_vendor_credit"/>
                            </span>
                            <span class="d-inline-block" invisible="application_direction != 'vendor'">
                                <field name="is_vendor_strategy"/>
                                <label for="is_vendor_strategy"/>
                            </span>
                        </span>
                    </div>
                    -->
                        <group>
                            <field name="company_id" invisible="1"/>
                            <field name="currency_id" invisible="1"/>
                            <field name="application_request_type" required="1" readonly="state != 'draft'"/>
                            <field name="application_type" required="1" readonly="state != 'draft'"/>  
                            <field name="expiry_date_formula" widget="radio" options="{'horizontal': true}" readonly="state != 'draft'"/>                      
                            <field name="expiry_date" required="application_request_type in ['new','review']" readonly="application_request_type == 'amend' or expiry_date_formula != 'specific' or state != 'draft'" force_save="1"/>
                            <field name="review_date_formula" widget="radio" options="{'horizontal': true}" readonly="state != 'draft'"/>
                            <field name="review_date" required="application_request_type in ['new','review']" readonly="application_request_type == 'amend' or review_date_formula != 'specific' or state != 'draft'" force_save="1"/>
                            <field name="requester_user_id" widget="many2one_avatar_user" options="{'no_open': True, 'no_quick_create': True, 'no_create': True}" invisible="1"/>
                            <field name="validator_user_ids" widget="many2many_tags" invisible="1"/>
                            <field name="is_unit_validator" invisible="1"/>
                        </group>
                    </group>
                    
                    <group string="KYC" invisible="application_type != 'kyc'">
                        <group string="Previous Basic Information &amp; Identification" invisible="application_request_type == 'new'">
                            <field name="previous_company_type" string="Account Type" widget="radio" options="{'horizontal': true}"/>
                            <field name="previous_legal_type" invisible="company_type == 'person'"/>
                            <field name="previous_title" invisible="company_type == 'company'"/>
                            <field name="previous_legal_name"/>
                            <field name="previous_name_alt_lang"/>
                            <field name="previous_trade_name" invisible="company_type == 'company'"/>
                            <field name="previous_trade_name_alt_lang" invisible="company_type == 'company'"/>
                            <field name="previous_function" invisible="company_type == 'company'"/>
                            <field name="previous_ref" string="Internal Reference"/>
                            <field name="previous_company_registry"/>
                            <field name="previous_company_registry_expiry_date"/>
                            <field name="previous_vat"/>
                            <field name="previous_category_id" widget="many2many_tags" options="{'color_field': 'color', 'no_open': True, 'no_quick_create': True, 'no_create': True}"/>
                            <field name="previous_duplicate_approved"/>
                        </group>
                        <group string="Basic Information">
                            <field name="company_type" string="Account Type" widget="radio" options="{'horizontal': true}" on_change="1" required="application_type == 'kyc'" readonly="state != 'draft'"/>
                            <field name="legal_type" invisible="company_type == 'person'" required="application_type == 'kyc' and company_type == 'company'" readonly="state != 'draft'"/>
                            <field name="title" invisible="company_type == 'company'" required="application_type == 'kyc' and company_type == 'person'" readonly="state != 'draft'"/>
                            <field name="legal_name" required="application_type == 'kyc'" readonly="state != 'draft'"/>
                            <field name="name_alt_lang" readonly="state != 'draft'"/>
                            <field name="trade_name" invisible="company_type == 'company'" readonly="state != 'draft'"/>
                            <field name="trade_name_alt_lang" invisible="company_type == 'company'" readonly="state != 'draft'"/>
                            <field name="function" invisible="company_type == 'company'" required="application_type == 'kyc' and company_type == 'person'" readonly="state != 'draft'"/>
                            <field name="ref" string="Internal Reference" readonly="state != 'draft'"/>
                            <field name="company_registry" required="application_type == 'kyc'" readonly="state != 'draft'"/>
                            <field name="company_registry_expiry_date" required="application_type == 'kyc'" readonly="state != 'draft'"/>
                            <field name="vat" readonly="state != 'draft'"/>
                            <field name="category_id" widget="many2many_tags" options="{'color_field': 'color', 'no_open': True, 'no_quick_create': True, 'no_create': True}" readonly="state != 'draft'"/>
                            <field name="duplicate_approved" readonly="state != 'draft'"/>
                        </group>
                        <group string="Previous Business Information" invisible="application_request_type == 'new'">
                            <field name="previous_industry_id" options="{'no_open': True, 'no_quick_create': True, 'no_create': True}"/>
                            <field name="previous_year_founded" invisible="company_type == 'person'"/>
                            <field name="previous_paidup_capital" invisible="company_type == 'person'"/>
                            <field name="previous_ownership_structure" invisible="company_type == 'person'"/>
                            <field name="previous_management_structure" invisible="company_type == 'person'"/>
                        </group>
                        <group string="Business Information">
                            <field name="industry_id" options="{'no_open': True, 'no_quick_create': True, 'no_create': True}" readonly="state != 'draft'"/>
                            <field name="year_founded" placeholder="e.g. 1950" invisible="company_type == 'person'" required="application_type == 'kyc' and company_type == 'company'" readonly="state != 'draft'"/>
                            <field name="paidup_capital" placeholder="50000" invisible="company_type == 'person'" required="application_type == 'kyc' and company_type == 'company'" readonly="state != 'draft'"/>
                            <field name="ownership_structure" invisible="company_type == 'person'" readonly="state != 'draft'"/>
                            <field name="management_structure" invisible="company_type == 'person'" readonly="state != 'draft'"/>
                        </group>
                        <group string="Previous Registered Address" invisible="application_request_type == 'new'">
                            <field name="previous_street"/>
                            <field name="previous_street2"/>
                            <field name="previous_zip"/>
                            <field name="previous_city_id" invisible="not previous_country_enforce_cities"/>
                            <field name="previous_city" invisible="previous_country_enforce_cities"/>
                            <field name="previous_country_enforce_cities" invisible="1"/>
                            <field name="previous_state_id" options="{'no_open': True, 'no_quick_create': True, 'no_create': True}"/>
                            <field name="previous_country_id"  options="{'no_open': True, 'no_quick_create': True, 'no_create': True}"/>
                            <field name="previous_country_code" invisible="1" />
                            <field name="previous_l10n_sa_edi_building_number" invisible="previous_country_code != 'SA'"/>
                            <field name="previous_l10n_sa_edi_plot_identification" invisible="previous_country_code != 'SA'"/>
                        </group>
                        <group string="Registered Address">
                            <field name="street" readonly="state != 'draft'"/>
                            <field name="street2" readonly="state != 'draft'"/>
                            <field name="zip" readonly="state != 'draft'"/>
                            
                            <field name="city_id" placeholder="City" class="o_address_city" domain="[('country_id', '=', country_id)]" invisible="not country_enforce_cities" required="application_type == 'kyc' and country_enforce_cities" readonly="state != 'draft'" context="{'default_country_id': country_id, 'default_state_id': state_id, 'default_zipcode': zip}"/>
                            <field name="city" placeholder="City" class="o_address_city" invisible="country_enforce_cities and (city_id or city in ('', False))" required="application_type == 'kyc'" readonly="state != 'draft'"/>
                            <field name="country_enforce_cities" invisible="1"/>
                            <field name="state_id" options="{'no_open': True, 'no_quick_create': True, 'no_create': True}" readonly="state != 'draft'"/>
                            <field name="country_id" required="application_type == 'kyc'" readonly="state != 'draft'" options="{'no_open': True, 'no_quick_create': True, 'no_create': True}"/>
                            <field name="country_code" invisible="1" />
                            <field name="l10n_sa_edi_building_number" invisible="country_code != 'SA'" required="application_type == 'kyc' and country_code == 'SA'" readonly="state != 'draft'"/>
                            <field name="l10n_sa_edi_plot_identification" invisible="country_code != 'SA'" required="application_type == 'kyc' and country_code == 'SA'" readonly="state != 'draft'"/>
                        </group>
                        <group string="Previous Contact Details" invisible="application_request_type == 'new'">
                            <field name="previous_email" />
                            <field name="previous_phone"/>
                            <field name="previous_mobile" />
                            <field name="previous_website"/>
                        </group>
                        <group string="Contact Details">
                            <field name="email" required="application_type == 'kyc'" readonly="state != 'draft'"/>
                            <field name="phone" readonly="state != 'draft'"/>
                            <field name="mobile" required="application_type == 'kyc'" readonly="state != 'draft'"/>
                            <field name="website" readonly="state != 'draft'"/>
                        </group>
                    </group>
                    <group string="CRM" invisible="application_type != 'crm'">
                        <group string="Previous Segmentation and Assignment" invisible="application_request_type == 'new'">                        
                            <field name="previous_customer_class"/>
                            <field name="previous_customer_segment"/>
                            <field name="previous_customer_pricelist_ids" widget="many2many_tags" options="{'no_open': True, 'no_quick_create': True, 'no_create': True}"/>
                            <field name="previous_deal_min_margin"/>
                            <field name="previous_sales_user_id" options="{'no_open': True, 'no_quick_create': True, 'no_create': True}"/>
                            <field name="previous_sales_ou_id" options="{'no_open': True, 'no_quick_create': True, 'no_create': True}"/>
                            <field name="previous_sales_ops_user_id" options="{'no_open': True, 'no_quick_create': True, 'no_create': True}"/>
                            <field name="previous_sales_ops_ou_id" options="{'no_open': True, 'no_quick_create': True, 'no_create': True}"/>
                        </group>
                        <group string="Segmentation and Assignment">                            
                            <field name="customer_class" required="application_type == 'crm'" readonly="state != 'draft'"/>
                            <field name="customer_segment" required="application_type == 'crm'" readonly="state != 'draft'"/>
                            <field name="customer_pricelist_ids" widget="many2many_tags" options="{'no_open': True, 'no_quick_create': True, 'no_create': True}" required="application_type == 'crm'" readonly="state != 'draft'"/>
                            <field name="deal_min_margin" readonly="state != 'draft'"/>
                            <field name="sales_user_id" required="application_type == 'crm'" readonly="state != 'draft'" options="{'no_open': True, 'no_quick_create': True, 'no_create': True}"/>
                            <field name="sales_ou_id" options="{'no_open': True, 'no_quick_create': True, 'no_create': True}" readonly="1" force_save="1"/>
                            <field name="sales_ops_user_id" required="application_type == 'crm'" readonly="state != 'draft'" options="{'no_open': True, 'no_quick_create': True, 'no_create': True}"/>
                            <field name="sales_ops_ou_id" options="{'no_open': True, 'no_quick_create': True, 'no_create': True}" readonly="1" force_save="1"/>
                        </group>
                        <group string="Previous Customer Business" invisible="application_request_type == 'new'">
                            <field name="previous_annual_revenues"/>
                            <field name="previous_employee_count"/>
                            <field name="previous_countries_covered" widget="many2many_tags" options="{'no_open': True, 'no_quick_create': True, 'no_create': True}"/>
                            <field name="previous_business_brief"/>
                        </group>
                        <group string="Customer Business">
                            <field name="annual_revenues" readonly="state != 'draft'"/>
                            <field name="employee_count" readonly="state != 'draft'"/>
                            <field name="countries_covered" widget="many2many_tags" options="{'no_open': True, 'no_quick_create': True, 'no_create': True}" readonly="state != 'draft'"/>
                            <field name="business_brief" readonly="state != 'draft'"/>
                        </group>
                        <group string="Previous Account Requirements" invisible="application_request_type == 'new'">
                            <field name="previous_account_requirements"/>
                            <!--
                            <field name="previous_annual_teus"/>
                            <field name="previous_ship_type"/>
                            <field name="previous_goods_type"/>
                            <field name="previous_goods_value"/>
                            -->
                        </group>
                        <group string="Account Requirements">
                            <field name="account_requirements" readonly="state != 'draft'"/>
                            <!--
                            <field name="annual_teus" readonly="state != 'draft'"/>
                            <field name="ship_type" readonly="state != 'draft'"/>
                            <field name="goods_type" readonly="state != 'draft'"/>
                            <field name="goods_value" readonly="state != 'draft'"/>
                            -->
                        </group>
                        <group string="Previous Account Operations" invisible="application_request_type == 'new'">
                            <field name="previous_services_needed" widget="many2many_tags" options="{'no_open': True, 'no_quick_create': True, 'no_create': True}"/>
                            <field name="previous_service_categories_needed" widget="many2many_tags" options="{'no_open': True, 'no_quick_create': True, 'no_create': True}"/>
                            <field name="previous_major_countries" widget="many2many_tags" options="{'no_open': True, 'no_quick_create': True, 'no_create': True}"/>
                            <field name="previous_operation_brief"/>
                        </group>
                        <group string="Account Operations">
                            <field name="services_needed" required="application_type == 'crm'" readonly="state != 'draft'" widget="many2many_tags" options="{'no_open': True, 'no_quick_create': True, 'no_create': True}"/>
                            <field name="service_categories_needed"  widget="many2many_tags" options="{'no_open': True, 'no_quick_create': True, 'no_create': True}"/>
                            <field name="major_countries" widget="many2many_tags" options="{'no_open': True, 'no_quick_create': True, 'no_create': True}" readonly="state != 'draft'"/>
                            <field name="operation_brief" readonly="state != 'draft'"/>
                        </group>
                    </group>
                    <group string="Customer Credit" invisible="application_type != 'customer_credit'">
                        <group string="Previous Customer Credit Information" invisible="application_request_type == 'new'" colspan="12">
                            <field name="previous_monthly_expected_business"/>
                            <field name="previous_customer_credit_limit" string="Credit Limit"/>
                            <field name="previous_customer_payment_term_ids" string="Payment Terms"  options="{'no_open': True, 'no_quick_create': True, 'no_create': True}"/>
                            <field name="previous_credit_trade_references"/>
                        </group>
                        <group string="Customer Credit Information" colspan="12">
                            <field name="monthly_expected_business" readonly="state != 'draft'"/>
                            <field name="customer_credit_limit" required="application_type == 'customer_credit'" readonly="state != 'draft'" string="Credit Limit"/>
                            <field name="customer_payment_term_ids" required="application_type == 'customer_credit'" readonly="state != 'draft'" string="Payment Terms"  options="{'no_open': True, 'no_quick_create': True, 'no_create': True}"/>
                            <field name="credit_trade_references" readonly="state != 'draft'"/>
                        </group>
                    </group>
                    <group string="Customer Strategy" invisible="application_type != 'customer_strategy'">
                        <group string="Previous Customer Strategy Information" invisible="application_request_type == 'new'" colspan="12">
                            <field name="previous_account_kpis"/>
                            <field name="previous_client_projects"/>
                            <field name="previous_client_profile"/>
                            <field name="previous_client_history"/>
                            <field name="previous_stakeholders"/>
                            <field name="previous_whitespace"/>
                            <field name="previous_sales_performance"/>
                            <field name="previous_margin_performance"/>
                            <field name="previous_wins_losses"/>
                            <field name="previous_account_competitors"/>
                            <field name="previous_competitors_stregnths"/>
                            <field name="previous_competitors_weaknesses"/>
                            <field name="previous_buyer_journey"/>
                            <field name="previous_content_channels"/>
                            <field name="previous_evaluation_criteria"/>
                            <field name="previous_decision_criteria"/>
                            <field name="previous_relationship_current_status"/>
                            <field name="previous_relationship_target_status"/>
                            <field name="previous_core_business_partners"/>
                            <field name="previous_relationship_progression_strategy"/>
                            <field name="previous_services"/>
                            <field name="previous_sales_targets"/>
                            <field name="previous_cross_sell"/>
                            <field name="previous_risks_challenges"/>
                            <field name="previous_critical_resources"/>
                            
                        </group>
                        <group string="Customer Strategy Information" colspan="12">
                            <field name="account_kpis" readonly="state != 'draft'"/>
                            <field name="client_projects" readonly="state != 'draft'"/>
                            <field name="client_profile" readonly="state != 'draft'"/>
                            <field name="client_history" readonly="state != 'draft'"/>
                            <field name="stakeholders" readonly="state != 'draft'"/>
                            <field name="whitespace" readonly="state != 'draft'"/>
                            <field name="sales_performance" readonly="state != 'draft'"/>
                            <field name="margin_performance" readonly="state != 'draft'"/>
                            <field name="wins_losses" readonly="state != 'draft'"/>
                            <field name="account_competitors" readonly="state != 'draft'"/>
                            <field name="competitors_stregnths" readonly="state != 'draft'"/>
                            <field name="competitors_weaknesses" readonly="state != 'draft'"/>
                            <field name="buyer_journey" readonly="state != 'draft'"/>
                            <field name="content_channels" readonly="state != 'draft'"/>
                            <field name="evaluation_criteria" readonly="state != 'draft'"/>
                            <field name="decision_criteria" readonly="state != 'draft'"/>
                            <field name="relationship_current_status" readonly="state != 'draft'"/>
                            <field name="relationship_target_status" readonly="state != 'draft'"/>
                            <field name="core_business_partners" readonly="state != 'draft'"/>
                            <field name="relationship_progression_strategy" readonly="state != 'draft'"/>
                            <field name="services" readonly="state != 'draft'"/>
                            <field name="sales_targets" readonly="state != 'draft'"/>
                            <field name="cross_sell" readonly="state != 'draft'"/>
                            <field name="risks_challenges" readonly="state != 'draft'"/>
                            <field name="critical_resources" readonly="state != 'draft'"/>
                            
                        </group>
                    </group>
                    
                    <group string="VRM" invisible="application_type != 'vrm'">
                        <group string="Previous Segmentation and Assignment" invisible="application_request_type == 'new'">
                            <field name="previous_vendor_class" />
                            <field name="previous_vendor_segment" />
                            <field name="previous_vendor_currency_ids" widget="many2many_tags" options="{'no_open': True, 'no_quick_create': True, 'no_create': True}" />
                            <field name="previous_procurement_user_id" options="{'no_open': True, 'no_quick_create': True, 'no_create': True}"/>
                            <field name="previous_procurement_ou_id" options="{'no_open': True, 'no_quick_create': True, 'no_create': True}"/>
                            <field name="previous_procurement_ops_user_id" options="{'no_open': True, 'no_quick_create': True, 'no_create': True}"/>
                            <field name="previous_procurement_ops_ou_id" options="{'no_open': True, 'no_quick_create': True, 'no_create': True}"/>
                        </group>
                        <group string="Segmentation and Assignment">
                            <field name="vendor_class" required="application_type == 'vrm'" readonly="state != 'draft'"/>
                            <field name="vendor_segment" required="application_type == 'vrm'" readonly="state != 'draft'"/>
                            <field name="vendor_currency_ids" widget="many2many_tags" options="{'no_open': True, 'no_quick_create': True, 'no_create': True}" readonly="state != 'draft'" required="application_type == 'vrm'"/>
                            <field name="procurement_user_id" required="application_type == 'vrm'" readonly="state != 'draft'" options="{'no_open': True, 'no_quick_create': True, 'no_create': True}"/>
                            <field name="procurement_ou_id" options="{'no_open': True, 'no_quick_create': True, 'no_create': True}" readonly="1" force_save="1"/>
                            <field name="procurement_ops_user_id" required="application_type == 'vrm'" readonly="state != 'draft'" options="{'no_open': True, 'no_quick_create': True, 'no_create': True}"/>
                            <field name="procurement_ops_ou_id" options="{'no_open': True, 'no_quick_create': True, 'no_create': True}" readonly="1" force_save="1"/>
                        </group>
                        <group string="Previous Vendor Business" invisible="application_request_type == 'new'">
                            <field name="previous_vendor_annual_revenues"/>
                            <field name="previous_vendor_employee_count"/>
                            <field name="previous_vendor_countries_covered" widget="many2many_tags" options="{'no_open': True, 'no_quick_create': True, 'no_create': True}"/>
                            <field name="previous_vendor_business_brief"/>
                        </group>
                        <group string="Vendor Business">
                            <field name="vendor_annual_revenues" readonly="state != 'draft'"/>
                            <field name="vendor_employee_count" readonly="state != 'draft'"/>
                            <field name="vendor_countries_covered" widget="many2many_tags" options="{'no_open': True, 'no_quick_create': True, 'no_create': True}" readonly="state != 'draft'"/>
                            <field name="vendor_business_brief" readonly="state != 'draft'"/>
                        </group>
                        <group string="Previous Account Offerings" invisible="application_request_type == 'new'">
                            <field name="previous_vendor_account_offerings"/>
                        </group>
                        <group string="Account Offerings">
                            <field name="vendor_account_offerings" readonly="state != 'draft'"/>
                        </group>
                        <group string="Previous Account Operations" invisible="application_request_type == 'new'">
                            <field name="previous_services_provided" widget="many2many_tags" options="{'no_open': True, 'no_quick_create': True, 'no_create': True}"/>
                            <field name="previous_service_categories_provided" widget="many2many_tags" options="{'no_open': True, 'no_quick_create': True, 'no_create': True}"/>
                            <field name="previous_vendor_major_countries" widget="many2many_tags" options="{'no_open': True, 'no_quick_create': True, 'no_create': True}"/>
                            <field name="previous_vendor_operation_brief"/>
                        </group>
                        <group string="Account Operations">
                            <field name="services_provided" required="application_type == 'vrm'" readonly="state != 'draft'" widget="many2many_tags" options="{'no_open': True, 'no_quick_create': True, 'no_create': True}"/>
                            <field name="service_categories_provided" widget="many2many_tags" options="{'no_open': True, 'no_quick_create': True, 'no_create': True}"/>
                            <field name="vendor_major_countries" widget="many2many_tags" options="{'no_open': True, 'no_quick_create': True, 'no_create': True}" readonly="state != 'draft'"/>
                            <field name="vendor_operation_brief" readonly="state != 'draft'"/>
                        </group>
                    </group>
                    <group string="Vendor Credit" invisible="application_type != 'vendor_credit'">
                        <group string="Previous Vendor Credit Information" invisible="application_request_type == 'new'" colspan="12">
                            <field name="previous_vendor_monthly_expected_business"/>
                            <field name="previous_vendor_credit_limit" string="Credit Limit"/>
                            <field name="previous_vendor_payment_term_ids" string="Payment Terms"  options="{'no_open': True, 'no_quick_create': True, 'no_create': True}"/>
                        </group>
                        <group string="Vendor Credit Information" colspan="12">
                            <field name="vendor_monthly_expected_business" readonly="state != 'draft'"/>
                            <field name="vendor_credit_limit" required="application_type == 'vendor_credit'" readonly="state != 'draft'" string="Credit Limit"/>
                            <field name="vendor_payment_term_ids" required="application_type == 'vendor_credit'" readonly="state != 'draft'" string="Payment Terms" options="{'no_open': True, 'no_quick_create': True, 'no_create': True}"/>
                        </group>
                    </group>
                    <group string="Vendor Strategy" invisible="application_type != 'vendor_strategy'">
                        <group string="Previous Vendor Strategy Information"  invisible="application_request_type == 'new'" colspan="12">
                            <field name="previous_vendor_kpis"/>
                            <field name="previous_vendor_projects"/>
                            <field name="previous_vendor_profile"/>
                            <field name="previous_vendor_history"/>
                            <field name="previous_vendor_stakeholders"/>
                            <field name="previous_vendor_whitespace"/>
                            <field name="previous_purchases_performance"/>
                            <field name="previous_vendor_wins_losses"/>
                            <field name="previous_vendor_competitors"/>
                            <field name="previous_vendor_competitors_stregnths"/>
                            <field name="previous_vendor_competitors_weaknesses"/>
                            <field name="previous_selling_journey"/>
                            <field name="previous_vendor_content_channels"/>
                            <field name="previous_vendor_evaluation_criteria"/>
                            <field name="previous_vendor_decision_criteria"/>
                            <field name="previous_vendor_relationship_current_status"/>
                            <field name="previous_vendor_relationship_target_status"/>
                            <field name="previous_vendor_core_business_partners"/>
                            <field name="previous_vendor_relationship_progression_strategy"/>
                            <field name="previous_vendor_services"/>
                            <field name="previous_purchases_targets"/>
                            <field name="previous_vendor_risks_challenges"/>
                            <field name="previous_vendor_critical_resources"/>
                            
                        </group>
                        <group string="Vendor Strategy Information" colspan="12">
                            <field name="vendor_kpis" readonly="state != 'draft'"/>
                            <field name="vendor_projects" readonly="state != 'draft'"/>
                            <field name="vendor_profile" readonly="state != 'draft'"/>
                            <field name="vendor_history" readonly="state != 'draft'"/>
                            <field name="vendor_stakeholders" readonly="state != 'draft'"/>
                            <field name="vendor_whitespace" readonly="state != 'draft'"/>
                            <field name="purchases_performance" readonly="state != 'draft'"/>
                            <field name="vendor_wins_losses" readonly="state != 'draft'"/>
                            <field name="vendor_competitors" readonly="state != 'draft'"/>
                            <field name="vendor_competitors_stregnths" readonly="state != 'draft'"/>
                            <field name="vendor_competitors_weaknesses" readonly="state != 'draft'"/>
                            <field name="selling_journey" readonly="state != 'draft'"/>
                            <field name="vendor_content_channels" readonly="state != 'draft'"/>
                            <field name="vendor_evaluation_criteria" readonly="state != 'draft'"/>
                            <field name="vendor_decision_criteria" readonly="state != 'draft'"/>
                            <field name="vendor_relationship_current_status" readonly="state != 'draft'"/>
                            <field name="vendor_relationship_target_status" readonly="state != 'draft'"/>
                            <field name="vendor_core_business_partners" readonly="state != 'draft'"/>
                            <field name="vendor_relationship_progression_strategy" readonly="state != 'draft'"/>
                            <field name="vendor_services" readonly="state != 'draft'"/>
                            <field name="purchases_targets" readonly="state != 'draft'"/>
                            <field name="vendor_risks_challenges" readonly="state != 'draft'"/>
                            <field name="vendor_critical_resources" readonly="state != 'draft'"/>
                           
                        </group>
                    </group>
    
                    <group string="Attachments">
                        <field name="attachment_ids" readonly="state != 'draft'"/>
                    </group>

                    <group>
                        <field name="ticket_ids"/>
                    </group>
                    
                </sheet>
                
                <div class="oe_chatter">
                    <field name="message_follower_ids" widget="mail_followers" groups="base.group_user"/>
                    <field name="activity_ids" widget="mail_activity"/>
                    <field name="message_ids" widget="mail_thread"/>
                </div>
            </form>
        </field>
    </record>
    
    

    
    
</odoo>
